{"version":3,"sources":["Game.js","App.js","serviceWorker.js","Board.js","index.js"],"names":["gameSlice","createSlice","name","initialState","id","color","cell","reducers","movePiece","state","action","payload","console","log","occupied","find","piece","green","yellow","blue","red","findHome","actions","isTouch","window","mapDispatch","ConnectedPiece","connect","useDrag","item","type","collect","monitor","isDragging","end","result","getDropResult","drag","ref","className","style","backgroundColor","cursor","opacity","Spacer","Cell","children","useDrop","accept","drop","mon","isOver","canDrop","position","top","left","height","width","zIndex","gameState","cells","start","safe","pieces","rendered","x","y","key","toString","push","DndProvider","backend","TouchBackend","Html5Backend","Boolean","location","hostname","match","coords","g00","cx","cy","g01","g02","g03","y00","y01","y02","y03","b00","b01","b02","b03","r00","r01","r02","r03","g10","g11","g12","g13","g14","g15","g16","g17","g18","g19","g1a","g1b","y10","y11","y12","y13","y14","y15","y16","y17","y18","y19","y1a","y1b","b10","b11","b12","b13","b14","b15","b16","b17","b18","b19","b1a","b1b","r10","r11","r12","r13","r14","r15","r16","r17","r18","r19","r1a","r1b","r20","r21","r22","r23","g20","g21","g22","g23","y20","y21","y22","y23","b20","b21","b22","b23","idMap","g","r","b","cellInfo","scale","classes","classnames","Piece","padding","borderWidth","useWindowSize","innerHeight","innerWidth","size","Math","min","Object","keys","map","store","configureStore","reducer","gameReducer","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.ab0c6048.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n\n\n// Find an empty home cell for the given color.\nfunction findHome(state, color) {\n  const homes = {\n    green: [\"g00\", \"g01\", \"g02\", \"g03\"],\n    yellow: [\"y00\", \"y01\", \"y02\", \"y03\"],\n    blue: [\"b00\", \"b01\", \"b02\", \"b03\"],\n    red: [\"r00\", \"r01\", \"r02\", \"r03\"],\n  }\n  return homes[color].find(cell => !state.find(piece => piece.cell === cell))\n}\n\nconst gameSlice = createSlice({\n  name: \"game\",\n  initialState: [\n    {id: \"g1\", color: \"green\", cell: \"g00\"},\n    {id: \"g2\", color: \"green\", cell: \"g01\"},\n    {id: \"g3\", color: \"green\", cell: \"g02\"},\n    {id: \"g4\", color: \"green\", cell: \"g03\"},\n    {id: \"y1\", color: \"yellow\", cell: \"y00\"},\n    {id: \"y2\", color: \"yellow\", cell: \"y01\"},\n    {id: \"y3\", color: \"yellow\", cell: \"y02\"},\n    {id: \"y4\", color: \"yellow\", cell: \"y03\"},\n    {id: \"b1\", color: \"blue\", cell: \"b00\"},\n    {id: \"b2\", color: \"blue\", cell: \"b01\"},\n    {id: \"b3\", color: \"blue\", cell: \"b02\"},\n    {id: \"b4\", color: \"blue\", cell: \"b03\"},\n    {id: \"r1\", color: \"red\", cell: \"r00\"},\n    {id: \"r2\", color: \"red\", cell: \"r01\"},\n    {id: \"r3\", color: \"red\", cell: \"r02\"},\n    {id: \"r4\", color: \"red\", cell: \"r03\"},\n  ],\n  reducers: {\n    movePiece(state, action) {\n      const { payload } = action;\n      console.log(payload)\n      const occupied = state.find(piece => piece.cell === payload.cell)\n      if (occupied) {\n        occupied.cell = findHome(state, occupied.color)\n      }\n      state.find(piece => piece.id === payload.piece).cell = payload.cell\n    },\n  },\n})\n\nexport const { movePiece } = gameSlice.actions\n\nexport default gameSlice.reducer\n","import React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux'\n\nimport { DndProvider } from 'react-dnd'\nimport Html5Backend from 'react-dnd-html5-backend'\nimport TouchBackend from 'react-dnd-touch-backend'\n\nimport { useDrag, useDrop } from 'react-dnd'\n\nimport { movePiece } from \"./Game.js\"\n\n\nconst isTouch = \"ontouchstart\" in window || \"onmsgesturechange\" in window;\n\nconst mapDispatch = { movePiece };\n\nfunction Piece({ movePiece, color, id }) {\n  const [{isDragging}, drag] = useDrag({\n    item: { type: \"piece\", color: color, id: id},\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging(),\n    }),\n    end: (item, monitor) => {\n      const result = monitor.getDropResult();\n      if ( result ) {\n        movePiece({piece: id, cell: result.cell});\n      }\n    },\n  })\n\n  return (\n    <span\n      ref={drag}\n      className=\"piece\"\n      style={{\n        backgroundColor: color,\n        cursor: \"move\",\n        opacity: isDragging ? 0.5 : 1.0,\n      }}>{id}</span>\n  )\n}\n\nconst ConnectedPiece = connect(null, mapDispatch)(Piece)\n\n\nfunction Spacer() {\n  return <div className=\"cell spacer\" />\n}\n\n\nfunction Cell({ id, color, children }) {\n  const [{isOver, canDrop}, drop] = useDrop({\n      accept: \"piece\",\n      drop: () => ({cell: id}),\n      collect: mon => ({\n        isOver: !!mon.isOver(),\n        canDrop: !!mon.canDrop(),\n      }),\n      canDrop: (item, mon) => {\n        return (!color || color === item.color)\n      },\n  })\n\n  return (\n    <div ref={drop} className=\"cell\" style={{position: 'relative'}}>\n      <div className={\"spot \" + color}>\n        {children}\n      </div>\n      {isOver && canDrop && (\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            height: '100%',\n            width: '100%',\n            zIndex: 1,\n            opacity: 0.5,\n            backgroundColor: 'yellow',\n          }}\n        />\n      )}\n    </div>\n  )\n}\n\n\nfunction App({ gameState }) {\n  const cells = {\n    \"00\": {color: \"green\", start: true},\n    \"01\": {color: \"green\", start: true},\n    \"05\": {},\n    \"06\": {},\n    \"07\": {},\n    \"0b\": {color: \"yellow\", start: true},\n    \"0c\": {color: \"yellow\", start: true},\n\n    \"10\": {color: \"green\", start: true},\n    \"11\": {color: \"green\", start: true},\n    \"15\": {},\n    \"16\": {color: \"yellow\"},\n    \"17\": {},\n    \"1b\": {color: \"yellow\", start: true},\n    \"1c\": {color: \"yellow\", start: true},\n\n    \"25\": {},\n    \"26\": {color: \"yellow\"},\n    \"27\": {},\n\n    \"35\": {},\n    \"36\": {color: \"yellow\"},\n    \"37\": {},\n\n    \"45\": {},\n    \"46\": {color: \"yellow\"},\n    \"47\": {},\n\n    \"50\": {},\n    \"51\": {},\n    \"52\": {},\n    \"53\": {},\n    \"54\": {},\n    \"55\": {safe: true},\n    \"57\": {safe: true},\n    \"58\": {},\n    \"59\": {},\n    \"5a\": {},\n    \"5b\": {},\n    \"5c\": {},\n\n    \"60\": {},\n    \"61\": {color: \"green\"},\n    \"62\": {color: \"green\"},\n    \"63\": {color: \"green\"},\n    \"64\": {color: \"green\"},\n    \"68\": {color: \"blue\"},\n    \"69\": {color: \"blue\"},\n    \"6a\": {color: \"blue\"},\n    \"6b\": {color: \"blue\"},\n    \"6c\": {},\n\n    \"70\": {},\n    \"71\": {},\n    \"72\": {},\n    \"73\": {},\n    \"74\": {},\n    \"75\": {safe: true},\n    \"77\": {safe: true},\n    \"78\": {},\n    \"79\": {},\n    \"7a\": {},\n    \"7b\": {},\n    \"7c\": {},\n\n    \"85\": {},\n    \"86\": {color: \"red\"},\n    \"87\": {},\n\n    \"95\": {},\n    \"96\": {color: \"red\"},\n    \"97\": {},\n\n    \"a5\": {},\n    \"a6\": {color: \"red\"},\n    \"a7\": {},\n\n    \"b0\": {color: \"red\", start: true},\n    \"b1\": {color: \"red\", start: true},\n    \"b5\": {},\n    \"b6\": {color: \"red\"},\n    \"b7\": {},\n    \"bb\": {color: \"blue\", start: true},\n    \"bc\": {color: \"blue\", start: true},\n\n    \"c0\": {color: \"red\", start: true},\n    \"c1\": {color: \"red\", start: true},\n    \"c5\": {},\n    \"c6\": {},\n    \"c7\": {},\n    \"cb\": {color: \"blue\", start: true},\n    \"cc\": {color: \"blue\", start: true},\n  }\n\n  const pieces = {}\n  for (let piece of gameState) {\n    // for (let i = 0; i < gameState.pieces.length; i++) {\n    // let piece = gameState.pieces[i]\n    pieces[piece.cell] = <ConnectedPiece color={piece.color} id={piece.id} />\n  }\n\n  const rendered = []\n  for (let x = 0; x < 13; x++) {\n    for (let y = 0; y < 13; y++) {\n      let key = x.toString(16) + y.toString(16)\n      if (key in cells) {\n        rendered.push(\n          <Cell id={key} key={key} {...cells[key]}>\n            {pieces[key] || null}\n          </Cell>\n        )\n      } else {\n        rendered.push(<Spacer key={key} />)\n      }\n    }\n  }\n\n  return (\n    <DndProvider backend={isTouch ? TouchBackend : Html5Backend}>\n      <div className=\"Board\">\n        {rendered}\n      </div>\n    </DndProvider>\n  )\n}\n\nconst mapStateToProps = state => ({ gameState: state })\n// export default App;\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux'\n\nimport { DndProvider } from 'react-dnd'\nimport Html5Backend from 'react-dnd-html5-backend'\nimport TouchBackend from 'react-dnd-touch-backend'\nimport useWindowSize from '@rehooks/window-size'\nimport classnames from 'classnames'\n\nimport { useDrag, useDrop } from 'react-dnd'\n\nimport { movePiece } from \"./Game.js\"\n\nconst isTouch = \"ontouchstart\" in window || \"onmsgesturechange\" in window;\n\nconst coords = {\n  g00: {cx: 20, cy: 80},\n  g01: {cx: 40, cy: 60},\n  g02: {cx: 60, cy: 40},\n  g03: {cx: 80, cy: 20},\n\n  y00: {cx: 320, cy: 20},\n  y01: {cx: 340, cy: 40},\n  y02: {cx: 360, cy: 60},\n  y03: {cx: 380, cy: 80},\n\n  b00: {cx: 320, cy: 380},\n  b01: {cx: 340, cy: 360},\n  b02: {cx: 360, cy: 340},\n  b03: {cx: 380, cy: 320},\n\n  r00: {cx: 20, cy: 320},\n  r01: {cx: 40, cy: 340},\n  r02: {cx: 60, cy: 360},\n  r03: {cx: 80, cy: 380},\n\n  g10: {cx: 20, cy: 170},\n  g11: {cx: 50, cy: 170},\n  g12: {cx: 80, cy: 170},\n  g13: {cx: 110, cy: 170},\n  g14: {cx: 140, cy: 170},\n  g15: {cx: 170, cy: 170},\n  g16: {cx: 170, cy: 140},\n  g17: {cx: 170, cy: 110},\n  g18: {cx: 170, cy: 80},\n  g19: {cx: 170, cy: 50},\n  g1a: {cx: 170, cy: 20},\n  g1b: {cx: 200, cy: 20},\n\n  y10: {cx: 230, cy: 20},\n  y11: {cx: 230, cy: 50},\n  y12: {cx: 230, cy: 80},\n  y13: {cx: 230, cy: 110},\n  y14: {cx: 230, cy: 140},\n  y15: {cx: 230, cy: 170},\n  y16: {cx: 260, cy: 170},\n  y17: {cx: 290, cy: 170},\n  y18: {cx: 320, cy: 170},\n  y19: {cx: 350, cy: 170},\n  y1a: {cx: 380, cy: 170},\n  y1b: {cx: 380, cy: 200},\n\n  b10: {cx: 380, cy: 230},\n  b11: {cx: 350, cy: 230},\n  b12: {cx: 320, cy: 230},\n  b13: {cx: 290, cy: 230},\n  b14: {cx: 260, cy: 230},\n  b15: {cx: 230, cy: 230},\n  b16: {cx: 230, cy: 260},\n  b17: {cx: 230, cy: 290},\n  b18: {cx: 230, cy: 320},\n  b19: {cx: 230, cy: 350},\n  b1a: {cx: 230, cy: 380},\n  b1b: {cx: 200, cy: 380},\n\n  r10: {cx: 170, cy: 380},\n  r11: {cx: 170, cy: 350},\n  r12: {cx: 170, cy: 320},\n  r13: {cx: 170, cy: 290},\n  r14: {cx: 170, cy: 260},\n  r15: {cx: 170, cy: 230},\n  r16: {cx: 140, cy: 230},\n  r17: {cx: 110, cy: 230},\n  r18: {cx: 80, cy: 230},\n  r19: {cx: 50, cy: 230},\n  r1a: {cx: 20, cy: 230},\n  r1b: {cx: 20, cy: 200},\n\n  r20: {cx: 50, cy: 200},\n  r21: {cx: 80, cy: 200},\n  r22: {cx: 110, cy: 200},\n  r23: {cx: 140, cy: 200},\n\n  g20: {cx: 200, cy: 50},\n  g21: {cx: 200, cy: 80},\n  g22: {cx: 200, cy: 110},\n  g23: {cx: 200, cy: 140},\n\n  y20: {cx: 350, cy: 200},\n  y21: {cx: 320, cy: 200},\n  y22: {cx: 290, cy: 200},\n  y23: {cx: 260, cy: 200},\n\n  b20: {cx: 200, cy: 350},\n  b21: {cx: 200, cy: 320},\n  b22: {cx: 200, cy: 290},\n  b23: {cx: 200, cy: 260},\n}\n\nconst idMap = {\n  color: {\n    g: \"green\",\n    y: \"yellow\",\n    r: \"red\",\n    b: \"blue\",\n  },\n  type: {\n    \"0\": \"start\",\n    \"1\": \"common\",\n    \"2\": \"home\",\n  },\n}\n\nfunction cellInfo(id) {\n  return {\n    id: id,\n    color: idMap.color[id[0]],\n    type: idMap.type[id[1]],\n    safe: id[1] === \"1\" && id[2] === \"5\",\n    coords: coords[id],\n  }\n}\n\nfunction Piece({ movePiece, cell, color, id, scale = 1.0 }) {\n  const [{isDragging}, drag] = useDrag({\n    item: { type: \"piece\", color: color, id: id},\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging(),\n    }),\n    end: (item, monitor) => {\n      const result = monitor.getDropResult();\n      console.log(\"DropResult\", result)\n      console.log(movePiece)\n      if (result) {\n        movePiece({piece: id, cell: result.cell});\n      }\n    },\n  })\n\n  const [{isOver, canDrop}, drop] = useDrop({\n      accept: \"piece\",\n      drop: () => ({cell: cell.id}),\n      collect: mon => ({\n        isOver: !!mon.isOver(),\n        canDrop: !!mon.canDrop(),\n      }),\n      canDrop: (item, mon) => {\n        return !cell.safe && color !== item.color\n      },\n  })\n\n  const classes = classnames({\n    Piece: true,\n    [color]: true,\n    dragging: isDragging,\n\t\tover: isOver && canDrop,\n  })\n\n  const style = {\n    top: (cell.coords.cx - 10) * scale,\n    left: (cell.coords.cy - 10) * scale,\n    height: 20 * scale,\n    width: 20 * scale,\n    padding: 2 * scale, // to match border of cell\n  }\n\n  return (\n    <div ref={drag} className={classes} style={style}>\n      <div ref={drop} style={{height: '100%', width: '100%'}} />\n    </div>\n  )\n}\n\nconst ConnectedPiece = connect(null, { movePiece })(Piece)\n\n\nfunction Cell({ id, color, type, safe, coords, scale = 1.0}) {\n  const [{isOver, canDrop}, drop] = useDrop({\n      accept: \"piece\",\n      drop: () => ({cell: id}),\n      collect: mon => ({\n        isOver: !!mon.isOver(),\n        canDrop: !!mon.canDrop(),\n      }),\n      canDrop: (item, mon) => {\n        return (type === \"common\" || color === item.color)\n      },\n  })\n\n  const classes = classnames({\n    \"Cell\": true,\n    [color]: type !== \"common\",\n    \"safe\": safe,\n\t\t\"over\": isOver && canDrop,\n  })\n  const style = {\n    top: (coords.cx - 10) * scale,\n    left: (coords.cy - 10) * scale,\n    height: 20 * scale,\n    width: 20 * scale,\n    borderWidth: 2 * scale,\n  }\n  return (\n    <div ref={drop} className={classes} style={style} />\n  )\n}\n\nfunction Board({ gameState }) {\n  const {innerHeight, innerWidth} = useWindowSize();\n  const size = Math.min(innerHeight, innerWidth) - 40;\n  const scale = size / 410;\n\n  return (\n    <DndProvider backend={isTouch ? TouchBackend : Html5Backend}>\n      <div className=\"Board\" style={{width: size, height: size}}>\n        {\n          Object.keys(coords).map(id => {\n            const cell = cellInfo(id);\n            return <Cell key={id} scale={scale} {...cell} />\n          })\n        }\n\t\t\t\t{\n\t\t\t\t\tgameState.map(({ id, color, cell }) => (\n            <ConnectedPiece key={id} id={id} color={color} scale={scale} cell={cellInfo(cell)} />\n\t\t\t\t\t))\n\t\t\t\t}\n      </div>\n    </DndProvider>\n  )\n}\n\nexport default connect(state => ({gameState: state}))(Board);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { configureStore } from \"@reduxjs/toolkit\";\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport gameReducer from './Game';\n\nimport Board from './Board.js';\n\nconst store = configureStore({\n  reducer: gameReducer,\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Board />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}