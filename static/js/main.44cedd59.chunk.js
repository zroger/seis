(this["webpackJsonp@seis/client"]=this["webpackJsonp@seis/client"]||[]).push([[0],{100:function(e,n,t){},120:function(e,n,t){"use strict";n.__esModule=!0,n.boardPositions=void 0,n.boardPositions=["S00","S01","S02","S03","S10","S11","S12","S13","S20","S21","S22","S23","S30","S31","S32","S33","H00","H01","H02","H03","H10","H11","H12","H13","H20","H21","H22","H23","H30","H31","H32","H33","C00","C01","C02","C03","C04","C05","C06","C07","C08","C09","C0A","C0B","C10","C11","C12","C13","C14","C15","C16","C17","C18","C19","C1A","C1B","C20","C21","C22","C23","C24","C25","C26","C27","C28","C29","C2A","C2B","C30","C31","C32","C33","C34","C35","C36","C37","C38","C39","C3A","C3B"]},121:function(e,n,t){"use strict";var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(n){o(n)}}function c(e){try{l(r.throw(e))}catch(n){o(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,c)}l((r=r.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(c){o=[6,c],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};n.__esModule=!0,n.SeisBot=void 0;var o=t(54),i=function(e,n,t,r){return{action:{type:"MAKE_MOVE",payload:{type:e,args:n,playerID:t,credentials:r}}}},c=function(){function e(){}return e.prototype.play=function(e,n){var t=e.G,c=e.ctx;return r(this,void 0,void 0,(function(){var e,r,u;return a(this,(function(a){switch(a.label){case 0:return"setup"===c.phase?t.players.length>0?(e=(t.players[0].seat+2)%4,[2,i("ChooseSeat",[e,"bot"],n)]):[2,i("INVALID_MOVE",[],n)]:"play"!==c.phase||t.dieRoll?[3,2]:[4,l(0===c.numMoves?1e3:3e3)];case 1:return a.sent(),[2,i("rollDie",[],n)];case 2:return"play"===c.phase&&t.dieRoll?0!==(r=o.getValidMoves(t,c)).length?[3,4]:[4,l(3e3)]:[3,6];case 3:return a.sent(),[2,i("Pass",[],n)];case 4:return[4,l(1e3)];case 5:return a.sent(),u=r[Math.floor(Math.random()*r.length)],[2,i("movePiece",[u.from],n)];case 6:return[4,l(1e3)];case 7:return a.sent(),[2,{}]}}))}))},e}();function l(e){return new Promise((function(n){setTimeout(n,e)}))}n.SeisBot=c},14:function(e,n,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),a=this&&this.__exportStar||function(e,n){for(var t in e)"default"===t||n.hasOwnProperty(t)||r(n,e,t)};n.__esModule=!0,a(t(69),n),a(t(54),n);var o=t(54);r(n,o,"default","Game"),a(t(120),n),a(t(121),n)},148:function(e,n){},152:function(e,n,t){},153:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"baseUrl",(function(){return oe})),t.d(r,"getRoom",(function(){return ie})),t.d(r,"createRoom",(function(){return le})),t.d(r,"findCredentials",(function(){return fe})),t.d(r,"joinGame",(function(){return de})),t.d(r,"leaveGame",(function(){return me}));var a=t(0),o=t.n(a),i=t(27),c=t.n(i);t(100),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=t(26),u=t(10),s=t(4);t(101);function f(e){return e.map((function(e){return e.includes(" ")?'"'.concat(e,'"'):e})).join(", ")}var d={space:[0,4,8,16,32,64],fonts:{body:f(["-apple-system","BlinkMacSystemFont","Segoe UI","Helvetica","Arial","sans-serif","Apple Color Emoji","Segoe UI Emoji"]),heading:f(["Anton","Arial","sans-serif"]),monospace:"Menlo, monospace"},fontSizes:[14,18,24,36,48,72,96],fontWeights:{body:400,heading:700,bold:700},borderWidths:[0,1,2,4],colors:{},seats:[{paint:"#c62828",diceBg:"#c62828",diceFg:"#f0f0f0"},{paint:"#1565c0",diceBg:"#1565c0",diceFg:"#f0f0f0"},{paint:"#ffab00",diceBg:"#ffab00",diceFg:"#f0f0f0"},{paint:"#388e3c",diceBg:"#388e3c",diceFg:"#f0f0f0"}]},p=t(15),m=t(3),v=t.n(m),b=t(6),h=t(5);function g(){var e=Object(h.a)(['\n  font-family: Anton;\n  font-size: 48px;\n  position: relative;\n  color: #0081a7;\n  margin: 16px 0;\n\n  &::before {\n    content: "\xa1seis!";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    -webkit-text-stroke: 12px #fdfcdc;\n  }\n  & > a {\n    text-decoration: none;\n    position: relative;\n    z-index: 1;\n    color: #0081a7;\n  }\n']);return g=function(){return e},e}function y(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  flex-direction: column;\n  height: 100%;\n  max-height: 600px;\n  width: 320px;\n  margin: 0 auto;\n  color: #fdfcdc;\n  font-family: Anton;\n\n  & > * {\n    margin-bottom: 16px;\n  }\n"]);return y=function(){return e},e}function x(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  flex-direction: column;\n  height: 100%;\n"]);return x=function(){return e},e}var w=s.c.div(x()),O=s.c.div(y()),j=s.c.h1(g()),E=function(e){var n=e.children;return o.a.createElement(w,null,o.a.createElement(O,null,o.a.createElement(j,null,o.a.createElement(l.b,{to:"/"},"\xa1seis!")),n))},_=t(13),C=t(34),I=t.n(C);function k(){var e=Object(h.a)(["\n  color: inherit;\n  display: inline-block;\n  position: relative;\n  -webkit-text-stroke: 4px ",';\n  text-decoration: none;\n\n  &::after {\n    content: "','";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    -webkit-text-stroke: 0;\n  }\n\n  ',":disabled & {\n    -webkit-text-stroke-color: #7a979f;\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(h.a)(["\n  display: inline-block;\n  font-family: ",";\n  font-size: ","px;\n  font-weight: ",";\n  border-color: ",";\n  border-radius: 6px;\n  border-width: 2px;\n  border-style: solid;\n  padding: 4px 16px;\n  background: ",";\n  transition: transform ease-in-out 200ms;\n  text-align: center;\n  box-sizing: border-box;\n  color: ",";\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n  }\n  &:disabled:hover {\n    transform: none;\n  }\n  & > svg {\n    height: 100%;\n    width: 100%;\n    fill: #fdfcdc;\n    fill: ",";\n    stoke: ",";\n    stroke-width: 1px;\n  }\n"]);return S=function(){return e},e}var D={primary:{background:"#00afb9",border:"#0081a7",text:"#fdfcdc"},secondary:{background:"#bdc0c0",text:I()("#bdc0c0").lighten(.5).hex()},red:{background:"#c62828",text:"#fff"},blue:{background:"#1565c0",text:"#fff"},yellow:{background:"#ffab00",text:"#fff"},green:{background:"#388e3c",text:"#fff"}},P=function(e){var n=e.variant,t=void 0===n?"primary":n;return D[t].border||I()(D[t].background).darken(.5).hex()},B=function(e){var n=e.variant;return D[void 0===n?"primary":n].text},M=s.c.button(S(),(function(e){return e.theme.fonts.heading}),(function(e){return e.theme.fontSizes[1]}),(function(e){return e.theme.fontWeights.heading}),P,(function(e){var n=e.variant;return D[void 0===n?"primary":n].background}),B,B,(function(e){var n=e.variant,t=void 0===n?"primary":n;return D[t].stroke||I()(D[t].background).darken(.5).hex()})),A=s.c.span(k(),P,(function(e){return e.children}),M),N=function(e){var n=e.children,t=Object(_.a)(e,["children"]);return o.a.createElement(M,t,"string"===typeof n?o.a.createElement(A,{variant:t.variant},n):n)};function V(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: ",";\n  width: 100%;\n  box-sizing: border-box;\n  margin-top: 8px;\n  padding: 0 8px;\n\n  & > *:first-child {\n    margin-left: 0;\n  }\n  & > *:last-child {\n    margin-right: 0;\n  }\n"]);return V=function(){return e},e}function R(){var e=Object(h.a)(["\n  margin: 8px 0;\n  padding: 0 8px;\n  font-family: ",";\n"]);return R=function(){return e},e}function H(){var e=Object(h.a)(["\n  color: #0081a7;\n  font-family: ",";\n  font-size: ","px;\n  padding: 0 8px 7px;\n  border-bottom: solid 1px #313638;\n  margin-bottom: 8px;\n"]);return H=function(){return e},e}function z(){var e=Object(h.a)(["\n  background: #f7f6e7;\n  color: #313638;\n  width: 100%;\n  border-radius: 8px;\n  border: solid 4px #f7f6e7;\n  overflow: hidden;\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n  font-family: ",';\n\n  &::before {\n    content: "";\n    position: absolute;\n    z-index: -1;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: solid 2px #313638;\n    border-radius: 6px;\n  }\n']);return z=function(){return e},e}var T=s.c.div(z(),(function(e){return e.theme.fonts.body})),L=s.c.header(H(),(function(e){return e.theme.fonts.heading}),(function(e){return e.theme.fontSizes[2]})),G=s.c.div(R(),(function(e){return e.theme.fonts.body})),F=s.c.footer(V(),(function(e){return e.justifyContent||"space-between"})),U=Object.assign(T,{Title:L,Content:G,Footer:F}),J=t(1),Y=t(28),W=t(88),Z=t.n(W),q=t(14),K="10.0.1.27"===window.location.hostname?"http://10.0.1.27:8000":"https://seis-game.herokuapp.com";function Q(){return(Q=Object(b.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(K+"/games/seis/create",{method:"POST",body:JSON.stringify({numPlayers:n,unlisted:!0}),headers:{"Content-Type":"application/json"}});case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("HTTP status "+t.status);case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(b.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(K,"/games/seis/").concat(n));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Room ".concat(n," not found"));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(b.a)(v.a.mark((function e(n){var t,r,a,o,i,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.roomId,r=n.name,a=n.clientId,o=n.credentials,i=n.playerId,e.next=3,fetch("".concat(K,"/games/seis/").concat(t,"/join"),{method:"POST",body:JSON.stringify({playerID:i,playerName:r,data:{clientId:a}}),headers:{"Content-Type":"application/json","bgio-credentials":o}});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error("Unable to join room");case 6:return e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(b.a)(v.a.mark((function e(n){var t,r,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.roomID,r=n.credentials,a=n.playerID,e.next=3,fetch("".concat(K,"/games/seis/").concat(t,"/leave"),{method:"POST",body:JSON.stringify({playerID:a,credentials:r}),headers:{"Content-Type":"application/json"}});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne={baseUrl:K,createRoom:function(e){return Q.apply(this,arguments)},getRoom:function(e){return $.apply(this,arguments)},joinRoom:function(e){return X.apply(this,arguments)},leaveRoom:function(e){return ee.apply(this,arguments)}},te=t(8),re=t(11),ae=new(function(){function e(n){Object(te.a)(this,e),this.key=n}return Object(re.a)(e,[{key:"load",value:function(){try{var e=localStorage.getItem(this.key);return null===e?[]:JSON.parse(e)||[]}catch(n){return[]}}},{key:"save",value:function(e){e.sort((function(e,n){return e.updated-n.updated}));var n=JSON.stringify(e.slice(-3));localStorage.setItem(this.key,n)}},{key:"find",value:function(e){return this.load().find((function(n){return n.roomId===e}))}},{key:"update",value:function(e){var n=this.load().filter((function(n){return n.roomId!==e.roomId}));n.push(Object(J.a)(Object(J.a)({},e),{},{updated:(new Date).getTime()})),this.save(n)}},{key:"remove",value:function(e){var n=this.load().filter((function(n){return n.roomId!==e}));this.save(n)}}]),e}())("rooms"),oe=ne.baseUrl;function ie(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(b.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.getRoom(n);case 2:return t=e.sent,e.abrupt("return",{roomId:n,players:t.players.map((function(e){var n;return{id:e.id.toString(10),name:e.name,clientId:null===(n=e.data)||void 0===n?void 0:n.clientId}}))});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(b.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.createRoom(n);case 2:return t=e.sent,e.abrupt("return",t.gameID);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){var e=localStorage.getItem("creds");return e||(e=Object(q.uniqueId)(),localStorage.setItem("creds",e)),{credentials:e,clientId:Z()(e)}}function fe(e){var n=ae.find(e);if(n)return{playerID:n.playerID,credentials:n.credentials}}function de(e,n){return pe.apply(this,arguments)}function pe(){return(pe=Object(b.a)(v.a.mark((function e(n,t){var r,a,o,i,c,l,u,s,f,d,p,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=se(),e.next=3,ie(n);case 3:if(a=e.sent,1!==(o=a.players.filter((function(e){return e.clientId===r.clientId}))).length){e.next=8;break}return console.log("previously joined room ".concat(n," at seat ").concat(o[0].id)),e.abrupt("return",{playerID:o[0].id,credentials:r.credentials});case 8:if(!(o.length>1)){e.next=27;break}console.warn("previously joined room ".concat(n," in ").concat(o.length," seats")),i=Object(Y.a)(o),e.prev=11,i.s();case 13:if((c=i.n()).done){e.next=19;break}return l=c.value,e.next=17,ne.leaveRoom(Object(J.a)({roomID:n,playerID:l.id},r));case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.next=29,ie(n);case 29:a=e.sent,u=a.players.filter((function(e){return!e.name})),console.log("found ".concat(u.length," open seats in room ").concat(n)),s=Object(Y.a)(u),e.prev=33,s.s();case 35:if((f=s.n()).done){e.next=52;break}return d=f.value,console.log("attempting to join at seat ".concat(d.id)),e.prev=38,e.next=41,ne.joinRoom(Object(J.a)({roomId:n,name:t,playerId:parseInt(d.id,10)},r));case 41:return p=e.sent,m={playerID:d.id,credentials:p.playerCredentials},ae.update(Object(J.a)({roomId:n},m)),e.abrupt("return",m);case 47:return e.prev=47,e.t1=e.catch(38),e.abrupt("continue",50);case 50:e.next=35;break;case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(33),s.e(e.t2);case 57:return e.prev=57,s.f(),e.finish(57);case 60:throw console.log("unable to join any seat"),new Error("Unable to join room");case 62:case"end":return e.stop()}}),e,null,[[11,21,24,27],[33,54,57,60],[38,47]])})))).apply(this,arguments)}function me(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(b.a)(v.a.mark((function e(n){var t,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(),e.next=3,ie(n);case 3:return r=e.sent,e.next=6,Promise.all(r.players.filter((function(e){return e.clientId===t.clientId})).map((function(e){var r=e.id;return ne.leaveRoom(Object(J.a)({roomID:n,playerID:r},t))})));case 6:ae.remove(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=r;function he(){var e=Object(h.a)(["\n  flex-grow: 1;\n  font-family: Anton;\n  font-size: ","px;\n  border: solid 2px #0081a7;\n  border-radius: 4px;\n  width: 60%;\n  letter-spacing: 12px;\n  padding: 4px 8px;\n"]);return he=function(){return e},e}function ge(){var e=Object(h.a)(["\n  flex-grow: 1;\n  padding: 4px 0px;\n  font-size: ","px;\n"]);return ge=function(){return e},e}function ye(){var e=Object(h.a)(["\n  margin-left: 8px;\n"]);return ye=function(){return e},e}var xe=Object(s.c)(N)(ye()),we=s.c.div(ge(),(function(e){return e.theme.fontSizes[1]})),Oe=s.c.input(he(),(function(e){return e.theme.fontSizes[1]})),je=function(){var e,n=Object(u.f)(),t=function(e){return Object(b.a)(v.a.mark((function t(){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be.createRoom(e);case 2:r=t.sent,n.push("/games/".concat(r));case 4:case"end":return t.stop()}}),t)})))},r=o.a.useState(""),a=Object(p.a)(r,2),i=a[0],c=a[1];return o.a.createElement(E,null,o.a.createElement(U,null,o.a.createElement(U.Title,null,"Single Player"),o.a.createElement(U.Footer,null,o.a.createElement("div",{style:{fontFamily:"-apple-system"}},"Play 1 on 1 versus a bot"),o.a.createElement(xe,{onClick:(e="/offline",function(){n.push(e)})},"Play"))),o.a.createElement(U,null,o.a.createElement(U.Title,null,"Create a Game"),o.a.createElement(U.Content,null,"Create a new game to play with friends"),o.a.createElement(U.Footer,null,o.a.createElement(we,null,"# of Players"),o.a.createElement(xe,{onClick:t(2)},"2"),o.a.createElement(xe,{onClick:t(3)},"3"),o.a.createElement(xe,{onClick:t(4)},"4"))),o.a.createElement(U,null,o.a.createElement(U.Title,null,"Join a Game"),o.a.createElement(U.Content,null,"Join an online game using the 6-digit game code"),o.a.createElement(U.Footer,null,o.a.createElement(Oe,{type:"text",value:i,onChange:function(e){c(e.target.value)},maxLength:6,inputMode:"numeric"}),o.a.createElement(xe,{onClick:function(){n.push("/games/".concat(i))}},"Go"))))},Ee=t(50),_e=t(51),Ce=t(91),Ie=function(e){var n=e.value,t=Object(_.a)(e,["value"]),r=function(e,n){return o.a.createElement("circle",{cx:e,cy:n,r:"2"})};return o.a.createElement("svg",Object.assign({viewBox:"-10 -10 20 20"},t),[1,3,5].includes(n)&&r(0,0),[2,3,4,5,6].includes(n)&&r(-6,-6),[4,5,6].includes(n)&&r(6,-6),[4,5,6].includes(n)&&r(-6,6),[2,3,4,5,6].includes(n)&&r(6,6),[6].includes(n)&&r(0,-6),[6].includes(n)&&r(0,6))},ke=t(89);function Se(){var e=Object(h.a)(["\n  animation: "," 500ms ease-in-out;\n  animation-delay: 2000ms;\n  animation-fill-mode: both;\n  opacity: 0;\n  margin-top: 32px;\n"]);return Se=function(){return e},e}function De(){var e=Object(h.a)(["\n  from { opacity: 0; }\n  to { opacity: 1.0; }\n"]);return De=function(){return e},e}function Pe(){var e=Object(h.a)(["\n  font-family: Anton;\n  font-size: 96px;\n  color: #fdfcdc;\n  display: block;\n  position: relative;\n  -webkit-text-stroke: 16px #0081a7;\n  text-decoration: none;\n  text-align: center;\n  animation: ",' 2000ms ease-in-out;\n\n  &::after {\n    content: "','";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    -webkit-text-stroke: 0;\n  }\n']);return Pe=function(){return e},e}function Be(){var e=Object(h.a)(["\n  from {\n    transform: scale(0) translate3d(0, -500%, 0) rotate(0deg);\n  }\n\n  to {\n    transform: scale(1.0) translate3d(0, 0, 0) rotate(1080deg);\n  }\n"]);return Be=function(){return e},e}function Me(){var e=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 0;\n"]);return Me=function(){return e},e}function Ae(){var e=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 9;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return Ae=function(){return e},e}var Ne=s.c.div(Ae()),Ve=s.c.canvas(Me()),Re=Object(s.d)(Be()),He=s.c.div(Pe(),Re,(function(e){return e.children})),ze=Object(s.d)(De()),Te=Object(s.c)(N)(Se(),ze),Le=function(e){var n=e.winner,t=Object(a.useRef)(null),r=Object(u.f)();return o.a.useEffect((function(){var e=new ke.a({target:t.current});return e.render(),function(){return e.clear()}}),[t]),c.a.createPortal(o.a.createElement(Ne,null,o.a.createElement(Ve,{ref:t}),o.a.createElement(He,null,"".concat(n," Wins!!!")),o.a.createElement(Te,{onClick:function(){r.push("/")}},"Play Again")),document.body)};function Ge(){var e=Object(h.a)(["\n  height: 40px;\n  width: 40px;\n  padding: 0;\n  margin: 10px 5px;\n  order: ",";\n"]);return Ge=function(){return e},e}function Fe(){var e=Object(h.a)(["\n  width: 80px;\n  margin: 10px 20px;\n  order: 7;\n  @media (max-width: 420px) {\n    order: 3;\n  }\n"]);return Fe=function(){return e},e}function Ue(){var e=Object(h.a)(["\n  width: 80px;\n  margin: 10px 20px;\n  order: 0;\n"]);return Ue=function(){return e},e}function Je(){var e=Object(h.a)(["\n    &:hover {\n      transform: scale(1.5);\n    }\n  "]);return Je=function(){return e},e}function Ye(){var e=Object(h.a)(["\n    cursor: not-allowed;\n    opacity: 0.25;\n  "]);return Ye=function(){return e},e}function We(){var e=Object(h.a)(["\n  --primary: #cfd8dc;\n  --secondary: #263238;\n  background-color: ",";\n  /* background-image: radial-gradient( */\n  /*   ellipse farthest-corner, */\n  /*   transparent 50%, */\n  /*   rgba(0, 0, 0, 0.25) */\n  /* ); */\n  border-color: ",";\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 2px;\n  box-sizing: border-box;\n  color: ",';\n  font-family: "Anton";\n  font-size: 24px;\n  height: 40px;\n  line-height: 37px;\n  text-align: center;\n  min-width: 40px;\n  transition: transform 200ms ease-in-out;\n\n  & > svg {\n    height: 100%;\n    width: 100%;\n    fill: ',";\n  }\n\n  ","\n"]);return We=function(){return e},e}function Ze(){var e=Object(h.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  align-content: flex-start;\n  justify-content: center;\n\n  @media (max-width: 420px) {\n    flex-flow: row wrap;\n  }\n"]);return Ze=function(){return e},e}function qe(){var e=Object(h.a)(["\n  padding: 16px 8px 4px;\n  margin-bottom: 8px;\n  text-align: center;\n  border-bottom: solid 1px #555;\n  flex-grow: 0;\n  color: #ffcc80;\n  font-family: Anton;\n  font-size: 16px;\n  border-bottom: solid 1px #ffcc80;\n"]);return qe=function(){return e},e}function Ke(){var e=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  padding: 8px;\n\n  @media (max-width: 420px) {\n    width: 300px;\n  }\n"]);return Ke=function(){return e},e}var Qe=s.c.div(Ke()),$e=s.c.div(qe()),Xe=s.c.div(Ze()),en={default:{primary:"#cfd8dc",secondary:"#263238"},red:{primary:"#c62828",secondary:"#fff"},blue:{primary:"#1565c0",secondary:"#fff"},yellow:{primary:"#ffab00",secondary:"#fff"},green:{primary:"#388e3c",secondary:"#fff"}},nn=s.c.div(We(),(function(e){var n=e.variant;return en[void 0===n?"default":n].primary}),(function(e){var n=e.variant,t=void 0===n?"default":n;return I()(en[t].primary).darken(.5).hex()}),(function(e){var n=e.variant;return en[void 0===n?"default":n].secondary}),(function(e){var n=e.variant;return en[void 0===n?"default":n].secondary}),(function(e){var n=e.disabled;return void 0!==n&&n?Object(s.b)(Ye()):Object(s.b)(Je())})),tn=Object(s.c)(nn)(Ue()),rn=Object(s.c)(nn)(Fe()),an=Object(s.c)(N)(Ge(),(function(e){return e.value})),on=["red","blue","yellow","green"],cn=function(e){var n=e.G,t=e.ctx,r=e.moves,a=e.playerID,i=e.isActive,c=e.gameMetadata,l=void 0===c?[]:c,u=Object(q.getCurrentPlayer)(n,t),s=u?on[u.seat]:"default";return o.a.createElement(Qe,null,o.a.createElement($e,null,t.gameover&&"Game Over","play"===t.phase&&i&&"Your turn","play"===t.phase&&!i&&"".concat(null===u||void 0===u?void 0:u.name,"'s turn"),"setup"===t.phase&&i&&"Choose your color","setup"===t.phase&&!i&&"Waiting for other players"),o.a.createElement(Xe,null,t.gameover&&o.a.createElement(Le,{winner:t.gameover.name}),"play"===t.phase&&o.a.createElement(o.a.Fragment,null,o.a.createElement(tn,{onClick:function(){r.rollDie()},disabled:!i||!!n.dieRoll,variant:s},"ROLL"),[1,2,3,4,5,6].map((function(e){return o.a.createElement(an,{key:e,value:e,onClick:function(){r.rollDie(e)},disabled:!i||!!n.dieRoll,variant:"default"===s?"primary":s},o.a.createElement(Ie,{value:e}))})),o.a.createElement(rn,{onClick:function(){r.Pass()},disabled:!i,variant:s},"PASS")),"setup"===t.phase&&i&&on.map((function(e,t){return o.a.createElement(an,{key:t,value:t,onClick:function(){var e=l.find((function(e){return""+e.id===a}));r.ChooseSeat(t,(null===e||void 0===e?void 0:e.name)||"Player  ".concat(t+1))},variant:e,disabled:!!n.players.find((function(e){return e.seat===t}))},o.a.createElement(Ie,{value:[1,2,3,4][t]}))}))))},ln=t(24),un=t.n(ln);function sn(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: absolute;\n  top: ",";\n  left: ",";\n  width: 7.5%;\n  height: 7.5%;\n  margin-top: -3.75%;\n  margin-left: -3.75%;\n\n  transition:\n    top 500ms ease-out,\n    left 500ms ease-out;\n"]);return sn=function(){return e},e}var fn={C00:{top:" 5.0%",left:"57.5%"},C01:{top:"12.5%",left:"57.5%"},C02:{top:"20.0%",left:"57.5%"},C03:{top:"27.5%",left:"57.5%"},C04:{top:"35.0%",left:"57.5%"},C05:{top:"42.5%",left:"57.5%"},C06:{top:"42.5%",left:"65.0%"},C07:{top:"42.5%",left:"72.5%"},C08:{top:"42.5%",left:"80.0%"},C09:{top:"42.5%",left:"87.5%"},C0A:{top:"42.5%",left:"95.0%"},C0B:{top:"50.0%",left:"95.0%"},C10:{top:"57.5%",left:"95.0%"},C11:{top:"57.5%",left:"87.5%"},C12:{top:"57.5%",left:"80.0%"},C13:{top:"57.5%",left:"72.5%"},C14:{top:"57.5%",left:"65.0%"},C15:{top:"57.5%",left:"57.5%"},C16:{top:"65.0%",left:"57.5%"},C17:{top:"72.5%",left:"57.5%"},C18:{top:"80.0%",left:"57.5%"},C19:{top:"87.5%",left:"57.5%"},C1A:{top:"95.0%",left:"57.5%"},C1B:{top:"95.0%",left:"50.0%"},C20:{top:"95.0%",left:"42.5%"},C21:{top:"87.5%",left:"42.5%"},C22:{top:"80.0%",left:"42.5%"},C23:{top:"72.5%",left:"42.5%"},C24:{top:"65.0%",left:"42.5%"},C25:{top:"57.5%",left:"42.5%"},C26:{top:"57.5%",left:"35.0%"},C27:{top:"57.5%",left:"27.5%"},C28:{top:"57.5%",left:"20.0%"},C29:{top:"57.5%",left:"12.5%"},C2A:{top:"57.5%",left:" 5.0%"},C2B:{top:"50.0%",left:" 5.0%"},C30:{top:"42.5%",left:" 5.0%"},C31:{top:"42.5%",left:"12.5%"},C32:{top:"42.5%",left:"20.0%"},C33:{top:"42.5%",left:"27.5%"},C34:{top:"42.5%",left:"35.0%"},C35:{top:"42.5%",left:"42.5%"},C36:{top:"35.0%",left:"42.5%"},C37:{top:"27.5%",left:"42.5%"},C38:{top:"20.0%",left:"42.5%"},C39:{top:"12.5%",left:"42.5%"},C3A:{top:" 5.0%",left:"42.5%"},C3B:{top:" 5.0%",left:"50.0%"},H00:{top:"12.5%",left:"50.0%"},H01:{top:"20.0%",left:"50.0%"},H02:{top:"27.5%",left:"50.0%"},H03:{top:"35.0%",left:"50.0%"},H10:{top:"50.0%",left:"87.5%"},H11:{top:"50.0%",left:"80.0%"},H12:{top:"50.0%",left:"72.5%"},H13:{top:"50.0%",left:"65.0%"},H20:{top:"87.5%",left:"50.0%"},H21:{top:"80.0%",left:"50.0%"},H22:{top:"72.5%",left:"50.0%"},H23:{top:"65.0%",left:"50.0%"},H30:{top:"50.0%",left:"12.5%"},H31:{top:"50.0%",left:"20.0%"},H32:{top:"50.0%",left:"27.5%"},H33:{top:"50.0%",left:"35.0%"},S00:{top:" 5.0%",left:"80.0%"},S01:{top:"10.0%",left:"85.0%"},S02:{top:"15.0%",left:"90.0%"},S03:{top:"20.0%",left:"95.0%"},S10:{top:"80.0%",left:"95.0%"},S11:{top:"85.0%",left:"90.0%"},S12:{top:"90.0%",left:"85.0%"},S13:{top:"95.0%",left:"80.0%"},S20:{top:"95.0%",left:"20.0%"},S21:{top:"90.0%",left:"15.0%"},S22:{top:"85.0%",left:"10.0%"},S23:{top:"80.0%",left:" 5.0%"},S30:{top:"20.0%",left:" 5.0%"},S31:{top:"15.0%",left:"10.0%"},S32:{top:"10.0%",left:"15.0%"},S33:{top:" 5.0%",left:"20.0%"}},dn=s.c.div(sn(),(function(e){var n=e.position;return fn[n].top}),(function(e){var n=e.position;return fn[n].left})),pn=function(e){var n=e.children;return o.a.createElement("div",{className:un.a.root},o.a.createElement("div",{className:"paint"},o.a.createElement("div",{className:un.a.startRed}),o.a.createElement("div",{className:un.a.startBlue}),o.a.createElement("div",{className:un.a.startYellow}),o.a.createElement("div",{className:un.a.startGreen}),o.a.createElement("div",{className:un.a.homeRed}),o.a.createElement("div",{className:un.a.homeBlue}),o.a.createElement("div",{className:un.a.homeYellow}),o.a.createElement("div",{className:un.a.homeGreen})),o.a.createElement("div",{className:"cells"},q.boardPositions.map((function(e){return o.a.createElement(dn,{key:e,position:e},o.a.createElement("div",{className:un.a.cell}))}))),n,o.a.createElement("div",null))};function mn(){var e=Object(h.a)(["\n  --top: ",";\n  --left: ",";\n  top: var(--top);\n  left: var(--left);\n  position: absolute;\n  height: 8%;\n  width: 8%;\n  margin-top: -4%;\n  margin-left: -4%;\n  animation: "," 800ms;\n  transform: scale(1.0) rotate(var(--rotate, 540deg));\n  border: solid 1px;\n  background-image: radial-gradient(\n    circle farthest-corner,\n    transparent 25%,\n    rgba(0, 0, 0, 0.35)\n  );\n  background-color: ",";\n  border-radius: 10%;\n  border-width: 10%;\n  border-color: ",";\n\n  & > svg {\n    height: 100%;\n    width: 100%;\n    fill: #f0f0f0;\n  }\n"]);return mn=function(){return e},e}function vn(){var e=Object(h.a)(["\n  0% {\n    top: 100%;\n    left: 50%;\n    transform: scale(1.5) rotate(0deg);\n  }\n  100% {\n    top: var(--top, 50%);\n    left: var(--left, 50%);\n    transform: scale(1.0) rotate(var(--rotate, 1080deg));\n    animation-timing-function: ease-out;\n  }\n"]);return vn=function(){return e},e}var bn=Object(s.d)(vn()),hn=[{color:"#c62828",top:"27.5%",left:"72.5%"},{color:"#1565c0",top:"72.5%",left:"72.5%"},{color:"#ffab00",top:"72.5%",left:"27.5%"},{color:"#288e3c",top:"27.5%",left:"27.5%"}],gn=s.c.div(mn(),(function(e){var n=e.seat;return hn[n].top}),(function(e){var n=e.seat;return hn[n].left}),bn,(function(e){var n=e.seat;return hn[n].color}),(function(e){var n=e.seat;return hn[n].color})),yn=function(e){var n=e.value,t=e.seat,r=e.random,a=void 0===r?0:r,i={"--rotate":"".concat(Math.floor(1080+360*a),"deg")};return o.a.createElement(gn,{seat:t,style:i},o.a.createElement(Ie,{value:n}))};function xn(){var e=Object(h.a)(["\n          left: 17.5%;\n          top: 17.5%;\n          transform: rotate(-45deg);\n        "]);return xn=function(){return e},e}function wn(){var e=Object(h.a)(["\n          left: 17.5%;\n          top: 82.5%;\n          transform: rotate(45deg);\n        "]);return wn=function(){return e},e}function On(){var e=Object(h.a)(["\n          left: 82.5%;\n          top: 82.5%;\n          transform: rotate(-45deg);\n        "]);return On=function(){return e},e}function jn(){var e=Object(h.a)(["\n          left: 82.5%;\n          top: 17.5%;\n          transform: rotate(45deg);\n        "]);return jn=function(){return e},e}function En(){var e=Object(h.a)(["\n  position: absolute;\n  pointer-events: none;\n  font-size: calc(4vw);\n  font-family: Anton;\n  color: rgba(0, 0, 0, .75);\n  height: 8%;\n  width: 30%;\n  margin-top: -4%;\n  margin-left: -15%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ","\n"]);return En=function(){return e},e}var _n=s.c.div(En(),(function(e){switch(e.seat){case 0:return Object(s.b)(jn());case 1:return Object(s.b)(On());case 2:return Object(s.b)(wn());case 3:return Object(s.b)(xn())}}));function Cn(){var e=Object(h.a)(["\n  height: 80%;\n  width: 80%;\n  border-radius: 50%;\n  background-image:\n    radial-gradient(\n      circle at 65% 25%,\n      rgba(255, 255, 255, 0.5) 5%,\n      rgba(255, 255, 255, 0.0) 30%\n    ),\n    radial-gradient(\n      circle at 52% 45%,\n      rgba(0, 0, 0, 0) 60%,\n      rgba(0, 0, 0, 1) 80%\n    ),\n    radial-gradient(\n      circle at 65% 25%,\n      rgba(0, 0, 0, 0) 30%,\n      rgba(0, 0, 0, 0.25) 70%\n    );\n  background-color: ",";\n"]);return Cn=function(){return e},e}var In=s.c.div(Cn(),(function(e){return{red:"#c62828",blue:"#1565c0",yellow:"#ffab00",green:"#388e3c"}[e.color]})),kn=function(e){var n=e.pos,t=e.seat,r=e.action,a=Object(_.a)(e,["pos","seat","action"]);return o.a.createElement(dn,Object.assign({position:n},a),o.a.createElement(In,{color:["red","blue","yellow","green"][t],onClick:function(e){e.preventDefault(),r&&r(n)}}))},Sn=function(e,n,t){var r=function(e,n,t){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:80,a=0,o=[e];o[o.length-1]!==n&&a++<r;){var i=Object(q.calculateNextPosition)(o[o.length-1],t);if("INVALID_MOVE"===i)break;o.push(i)}return o[o.length-1]!==n?[e,n]:o}(e,n,t);return r.length>1?r[1]:n},Dn=function(e,n){switch(n.type){case"reset":return Object(J.a)(Object(J.a)({},e),{},{i:e.i+1,current:n.payload.map((function(n){var t=e.current.find((function(e){return e.id===n.id}));return t?e.targets[n.id]===n.position||"S"===n.position[0]?t:Object(J.a)(Object(J.a)({},n),{},{position:Sn(t.position,n.position,n.seat)}):n})),targets:Object.fromEntries(n.payload.map((function(e){return[e.id,e.position]})))});case"step":return Object(J.a)(Object(J.a)({},e),{},{i:e.i+1,current:e.current.map((function(n){var t=e.targets[n.id];if(n.position===t)return n;if("S"===t[0])return n;var r=Sn(n.position,t,n.seat);return Object(J.a)(Object(J.a)({},n),{},{position:r})})).map((function(n,t,r){var a=e.targets[n.id];return n.position===a||"S"!==a[0]?n:r.find((function(e){return e.id!==n.id&&e.position===n.position}))?Object(J.a)(Object(J.a)({},n),{},{position:a}):n}))})}return e},Pn=function(e){var n=e.pieces,t=e.action,r=Object(a.useReducer)(Dn,{i:0,current:n,targets:{}}),i=Object(p.a)(r,2),c=i[0],l=i[1];Object(a.useEffect)((function(){l({type:"reset",payload:n})}),[n]);var u=function(){l({type:"step",payload:"from handleTransitionEnd"})};return o.a.createElement(o.a.Fragment,null,c.current.map((function(e){return o.a.createElement(kn,{key:e.id,seat:e.seat,pos:e.position,action:t,onTransitionEnd:u})})))},Bn=function(e){var n=e.G,t=e.ctx,r=e.moves,a=(e.playerID,e.isActive),i=(e.gameMetadata,Object(q.getCurrentPlayer)(n,t));return o.a.createElement(pn,null,n.players.map((function(e){return o.a.createElement(_n,{key:e.seat,seat:e.seat},e.name)})),o.a.createElement(Pn,{pieces:n.pieces,action:a&&n.dieRoll?r.movePiece:console.log}),n.dieRoll&&o.a.createElement(yn,{seat:null===i||void 0===i?void 0:i.seat,value:n.dieRoll,random:n.random}))};function Mn(){var e=Object(h.a)(["\n  height: 36px;\n  width: 36px;\n  font-size: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #ede7e3bb;\n  border: solid 4px #ede7e3;\n  border-radius: 50%;\n  color: #16697a;\n  transition: transform ease-in-out 120ms;\n  margin-left: 12px;\n  padding: 0;\n\n  &:hover {\n    transform: scale(1.25);\n  }\n  & > svg {\n    display: block;\n  }\n"]);return Mn=function(){return e},e}function An(){var e=Object(h.a)(["\n  --header-height: 60px;\n  --footer-height: 120px;\n  --board-unit: min(calc((var(--vh) * 100 - var(--header-height) - var(--footer-height)) / 100), var(--vw));\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  /* justify-content: space-between; */\n  height: calc(var(--vh) * 100);\n  margin: 0 auto;\n  width: calc(var(--board-unit) * 100);\n\n  @media (max-width: 420px) {\n    .container {\n      --footer-height: 150px;\n    }\n  }\n\n  & > header,\n  & > main,\n  & > footer {\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n  }\n  & > header {\n    height: var(--header-height);\n    width: 100%;\n    z-index: 1;\n  }\n  & > footer {\n    height: var(--footer-height);\n    z-index: 1;\n    flex-grow: 1;\n  }\n  & > main {\n    height: calc(var(--board-unit) * 100);\n    width: calc(var(--board-unit) * 100);\n  }\n"]);return An=function(){return e},e}var Nn=s.c.div(An()),Vn=s.c.button(Mn()),Rn=function(e){var n=Object(u.g)("/games/:game_id"),t=Object(u.f)(),r=function(){var e=Object(b.a)(v.a.mark((function e(r){var a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),(o=null===n||void 0===n||null===(a=n.params)||void 0===a?void 0:a.game_id)&&be.leaveGame(o),t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.a.createElement(Nn,null,o.a.createElement("header",null,o.a.createElement(Vn,{onClick:r},o.a.createElement(Ce.a,null))),o.a.createElement("main",null,o.a.createElement(Bn,e)),o.a.createElement("footer",null,o.a.createElement(cn,e)))},Hn=function(){return o.a.createElement("div",null)},zn=function(){var e=Object(Ee.a)({game:q.Game,board:Rn,loading:Hn,multiplayer:Object(_e.a)({bots:{1:q.SeisBot}})});return o.a.createElement(e,{playerID:"0",debug:!1})},Tn=t(49);function Ln(){var e=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 9;\n  overflow: hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Ln=function(){return e},e}var Gn=s.c.div(Ln()),Fn=function(e){var n=e.open,t=void 0!==n&&n,r=e.children;return c.a.createPortal(t?o.a.createElement(Gn,null,r):null,document.body)};function Un(){var e=Object(h.a)(["\n  padding: 8px 8px;\n  font-family: ",";\n"]);return Un=function(){return e},e}function Jn(){var e=Object(h.a)(["\n  color: #0081a7;\n  font-family: ",";\n  font-size: ","px;\n  padding: 8px 8px;\n  border-bottom: solid 1px #313638;\n"]);return Jn=function(){return e},e}function Yn(){var e=Object(h.a)(["\n  background: #f7f6e7;\n  color: #313638;\n  width: 100%;\n  border-radius: 8px;\n  border: solid 4px #f7f6e7;\n  overflow: hidden;\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n  width: 320px;\n  animation-name: ",';\n  animation-duration: 500ms;\n  animation-fill-mode: both;\n\n  &::before {\n    content: "";\n    position: absolute;\n    z-index: -1;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: solid 2px #313638;\n    border-radius: 6px;\n  }\n']);return Yn=function(){return e},e}function Wn(){var e=Object(h.a)(["\n  from {\n    transform: translate3d(0, 100%, 0);\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return Wn=function(){return e},e}var Zn=Object(s.d)(Wn()),qn=s.c.div(Yn(),Zn),Kn=s.c.header(Jn(),(function(e){return e.theme.fonts.heading}),(function(e){return e.theme.fontSizes[2]})),Qn=s.c.div(Un(),(function(e){return e.theme.fonts.body})),$n=function(e){var n=e.open,t=e.title,r=e.children;return c.a.createPortal(o.a.createElement(Fn,{open:n},o.a.createElement(qn,null,o.a.createElement(Kn,null,t),o.a.createElement(Qn,null,r))),document.body)};function Xn(){var e=Object(h.a)(["\n  flex-grow: 1;\n  font-family: Anton;\n  font-size: ","px;\n  border: solid 2px #0081a7;\n  border-radius: 4px;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 4px 8px;\n  margin: 12px auto;\n"]);return Xn=function(){return e},e}function et(){var e=Object(h.a)(["\n  width: 320px;\n"]);return et=function(){return e},e}var nt=s.c.div(et()),tt=s.c.input(Xn(),(function(e){return e.theme.fontSizes[1]})),rt=function(){var e=Object(b.a)(v.a.mark((function e(n){var t,r,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(n,2),r=t[0],a=t[1],e.next=3,be.joinGame(r,a);case 3:return o=e.sent,e.abrupt("return",Object(J.a)({gameID:r},o));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),at=function(e){var n=e.open,t=e.gameId,r=e.onChange,a=o.a.useState(localStorage.getItem("name")||""),i=Object(p.a)(a,2),c=i[0],l=i[1],u=Object(Tn.a)({deferFn:rt,onResolve:r});return o.a.createElement(Fn,{open:n},o.a.createElement(nt,null,o.a.createElement(U,null,o.a.createElement(U.Title,null,"Join Game"),o.a.createElement(U.Content,null,o.a.createElement("p",null,"Enter your name to join the game, or choose to just watch."),o.a.createElement(tt,{autoFocus:!0,placeholder:"Your name",value:c,onChange:function(e){l(e.target.value)}})),o.a.createElement(U.Footer,{justifyContent:"space-evenly"},o.a.createElement(N,{disabled:0===c.length,onClick:function(){localStorage.setItem("name",c),u.run(t,c)}},"Play"),o.a.createElement(N,{onClick:function(){r({})}},"Watch")))))};function ot(){var e=Object(h.a)(["\n  position: absolute;\n  height: 64px;\n  width: 64px;\n  border-radius: 50%;\n  animation: "," 4s linear infinite;\n  animation-delay: 200ms;\n  box-sizing: border-box;\n  border-width: 8px;\n  border-style: solid;\n  border-color: transparent;\n"]);return ot=function(){return e},e}function it(){var e=Object(h.a)(["\n  0% {\n    border-top-color: #c62828;\n    transform: rotate(0deg);\n  }\n  25% {\n    border-top-color: #1565c0;\n    transform: rotate(360deg);\n  }\n  50% {\n    border-top-color: #ffab00;\n    transform: rotate(720deg);\n  }\n  75% {\n    border-top-color: #388e3c;\n    transform: rotate(1080deg);\n  }\n  100%; {\n    border-top-color: #c62828;\n    transform: rotate(1440deg);\n  }\n"]);return it=function(){return e},e}var ct=Object(s.d)(it()),lt=s.c.div(ot(),ct),ut=Object(Ee.a)({game:q.Game,board:Rn,multiplayer:Object(_e.b)({server:be.baseUrl}),loading:"div"});function st(e){return new Promise((function(n){return setTimeout(n,e)}))}var ft=function(){var e=Object(b.a)(v.a.mark((function e(n){var t,r,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.gameID,r=n.setGameProps,e.next=3,st(300);case 3:return e.next=5,be.getRoom(t);case 5:return a=e.sent,(o=be.findCredentials(t))?(console.log("found existing credentials"),r(o)):console.log("no credentials"),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),dt=function(){var e,n=Object(u.f)(),t=Object(u.g)("/games/:game_id"),r=null===t||void 0===t||null===(e=t.params)||void 0===e?void 0:e.game_id,i=Object(a.useState)(null),c=Object(p.a)(i,2),l=c[0],s=c[1],f=Object(Tn.a)({promiseFn:ft,gameID:r,setGameProps:s});return o.a.createElement(o.a.Fragment,null,o.a.createElement(ut,Object.assign({debug:!1,gameID:r},null!==l?l:{})),o.a.createElement(Fn,{open:f.isPending},o.a.createElement(lt,null)),o.a.createElement($n,{open:f.isRejected,title:"Game not found"},o.a.createElement("p",null,"The game you're trying to access wasn't found. This probably means the game finished, or all players left."),o.a.createElement(N,{onClick:function(){n.push("/")}},"Back")),o.a.createElement(at,{open:f.isFulfilled&&null===l,gameId:r,onChange:s}))},pt=function(){var e=window.innerHeight/100,n=window.innerWidth/100;document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.documentElement.style.setProperty("--vw","".concat(n,"px")),document.documentElement.style.setProperty("--vmin","".concat(Math.min(e,n),"px")),document.documentElement.style.setProperty("--vmax","".concat(Math.max(e,n),"px"))},mt=function(e){var n=e.children;return Object(a.useEffect)((function(){return pt(),window.addEventListener("resize",pt),function(){window.removeEventListener("resize",pt)}}),[]),o.a.createElement(o.a.Fragment,null,n)},vt=(t(152),function(){return o.a.createElement(mt,null,o.a.createElement(s.a,{theme:d},o.a.createElement(l.a,null,o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:"/games/:game_id"},o.a.createElement(dt,null)),o.a.createElement(u.a,{exact:!0,path:"/offline"},o.a.createElement(zn,null)),o.a.createElement(u.a,null,o.a.createElement(je,null))))))});c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,n,t){e.exports={root:"Board_root__37s0h",cell:"Board_cell__s1Ydb",red:"Board_red__3LLzD",blue:"Board_blue__1gkdI",yellow:"Board_yellow__2DcCi",green:"Board_green__2w_Zp",start:"Board_start__1OOwc",startRed:"Board_startRed__1zp78 Board_start__1OOwc Board_red__3LLzD",startBlue:"Board_startBlue__2-Crl Board_start__1OOwc Board_blue__1gkdI",startYellow:"Board_startYellow__3QUM6 Board_start__1OOwc Board_yellow__2DcCi",startGreen:"Board_startGreen__2vE0K Board_start__1OOwc Board_green__2w_Zp",homeRed:"Board_homeRed__2u7ZH Board_start__1OOwc Board_red__3LLzD",homeBlue:"Board_homeBlue__1Sh4j Board_start__1OOwc Board_blue__1gkdI",homeYellow:"Board_homeYellow__hFUxH Board_start__1OOwc Board_yellow__2DcCi",homeGreen:"Board_homeGreen__YF1p7 Board_start__1OOwc Board_green__2w_Zp"}},54:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.hasOwnProperty.call(e,t)&&a(n,e,t);return o(n,e),n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};n.__esModule=!0,n.getValidMoves=n.getPlayerBySeat=n.getPlayerById=n.getCurrentPlayer=n.uniqueId=void 0;var l=t(71),u=t(119),s=c(t(70)),f=i(t(69));function d(e,n){var t=e.players.find((function(e){return e.id===n}));if(void 0===t)throw Error("undefined player");return t}function p(e,n){if("undefined"===typeof e.dieRoll)return[];var t=d(e,n.currentPlayer);return e.pieces.map((function(n){var r=n.seat===t.seat?f.calculateMove(n.position,e.dieRoll,e.pieces):l.INVALID_MOVE;return{from:n.position,to:r}})).filter((function(e){return e.to!==l.INVALID_MOVE}))}n.uniqueId=function(e){return void 0===e&&(e=6),s.default.range(e).map((function(){return Math.floor(10*Math.random()).toString(10)})).join("")},n.getCurrentPlayer=function(e,n){var t=e.players.find((function(e){return e.id===n.currentPlayer}));if(void 0!==t)return t},n.getPlayerById=d,n.getPlayerBySeat=function(e,n){var t=e.players.find(s.default.matches({seat:n}));if(void 0===t)throw Error("undefined player");return t},n.getValidMoves=p;var m={name:"seis",setup:function(){return{players:[],pieces:[],random:0}},phases:{setup:{turn:{activePlayers:{all:l.Stage.NULL},onMove:function(e,n){var t;return r(r({},e),{random:null===(t=n.random)||void 0===t?void 0:t.Number()})}},moves:{ChooseSeat:function(e,n,t,r){var a;if(r=r||"Player "+(t+1),console.log("ChooseSeat",{playerID:n.playerID,seat:t,name:r}),e.players.some((function(e){return e.seat===t})))return l.INVALID_MOVE;if("string"!==typeof n.playerID)return l.INVALID_MOVE;var o=e.players.find((function(e){return e.id===n.playerID}));o&&(e.players=e.players.filter((function(e){return e.id!==o.id})),e.pieces=e.pieces.filter((function(e){return e.seat!==o.seat}))),e.players.push({seat:t,name:r,id:n.playerID,color:["red","blue","yellow","green"][t]}),(a=e.pieces).push.apply(a,[0,1,2,3].map((function(e){return{id:4*t+e,seat:t,position:"S"+t+e}}))),n.events.endTurn()},ChangeName:function(e,n,t){if("string"!==typeof n.playerID)return l.INVALID_MOVE;var r=e.players.find((function(e){return e.id===n.playerID}));if(!r)return l.INVALID_MOVE;r.name=t}},start:!0,endIf:function(e,n){return e.players.length===n.numPlayers},next:"play"},play:{moves:{rollDie:function(e,n,t){var a,o=t||(null===(a=n.random)||void 0===a?void 0:a.D6());return console.log("rollDie",{playerID:n.playerID,value:o}),"undefined"!==typeof e.dieRoll?l.INVALID_MOVE:r(r({},e),{dieRoll:o})},movePiece:function(e,n,t){var a,o;if(console.log("movePiece",{playerID:n.playerID,position:t}),void 0===e.dieRoll)return l.INVALID_MOVE;if(""===t){if(!(null===(a=n.events)||void 0===a?void 0:a.endTurn))throw new Error("ctx.events.endTurn is undefined");return n.events.endTurn(),r(r({},e),{dieRoll:void 0})}var i,c=e.pieces.find((function(e){return e.position===t}));if(!c)return l.INVALID_MOVE;if(!n.playerID)return l.INVALID_MOVE;if(d(e,n.playerID).seat!==c.seat)return l.INVALID_MOVE;try{i=f.executeMove(t,e.dieRoll,e.pieces)}catch(u){return l.INVALID_MOVE}if(!n.events||!n.events.endTurn)throw new Error("ctx.events is undefined");if(e.dieRoll<6){if(!(null===(o=n.events)||void 0===o?void 0:o.endTurn))throw new Error("ctx.events.endTurn is undefined");n.events.endTurn()}return r(r({},e),{dieRoll:void 0,pieces:e.pieces.map((function(e){return s.default.has(i,e.position)?r(r({},e),{position:i[e.position]}):e}))})},Pass:function(e,n){var t;if(console.log("Pass",{playerID:n.playerID}),!(null===(t=n.events)||void 0===t?void 0:t.endTurn))throw new Error("ctx.events.endTurn is undefined");return n.events.endTurn(),r(r({},e),{dieRoll:void 0})}},turn:{order:{first:function(e,n){return 0},next:function(e,n){return(n.playOrderPos+1)%n.numPlayers},playOrder:function(e){return s.default.sortBy(e.players,["seat"]).map((function(e){return e.id}))}},onMove:function(e,n){var t;return r(r({},e),{random:null===(t=n.random)||void 0===t?void 0:t.Number()})}}}},plugins:[u.PluginPlayer({setup:function(e){return{}}})],endIf:function(e,n){return e.players.find((function(n){return e.pieces.filter((function(e){return e.seat===n.seat})).every((function(e){return"H"===e.position[0]}))}))},ai:{enumerate:function(e,n){if("setup"==n.phase)return[{move:"ChooseSeat",args:[2]}];if(!e.dieRoll)return[{move:"rollDie",args:[]}];var t=p(e,n);return 0===t.length?[{move:"Pass",args:[]}]:t.map((function(e){return{move:"movePiece",args:[e.from]}}))}}};n.default=m},69:function(e,n,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};n.__esModule=!0,n.executeMove=n.calculateMove=n.calculateNextPosition=void 0;var a,o=r(t(70)),i=t(71);!function(e){e.CIRCUIT="C",e.HOME="H",e.START="S"}(a||(a={}));function c(e,n,t){return(e+n.toString(16)+t.toString(16)).toUpperCase()}var l=o.default.curry(c)(a.HOME),u=o.default.curry(c)(a.CIRCUIT),s=o.default.curry(c)(a.START);function f(e,n){var t,r={type:(t=e)[0],seat:parseInt(t[1],16),index:parseInt(t[2],16)};if(p(e))return u(r.seat,0);if(function(e){return"C"===e[0].toUpperCase()}(e)){if(r.index<11)return u(r.seat,r.index+1);var a=(r.seat+1)%4;return a===n?l(a,0):u(a,0)}return function(e){return"H"===e[0].toUpperCase()}(e)&&r.index<3?l(r.seat,r.index+1):i.INVALID_MOVE}function d(e,n,t){var r,a,c=t.find((function(n){return n.position===e}));if("undefined"===typeof c)throw new Error("No piece in that position");if(p(e)&&![1,6].includes(n))return i.INVALID_MOVE;try{if((r=o.default.range(n).reduce((function(e,n){var r=f(e,c.seat);if(r===i.INVALID_MOVE)throw i.INVALID_MOVE;if(function(e,n,t){return e.some(o.default.matches({position:t,seat:n}))}(t,c.seat,r))throw i.INVALID_MOVE;return r}),e))===e)return e}catch(l){return i.INVALID_MOVE}return"C"===(a=r)[0].toUpperCase()&&"5"===a[2]&&t.find((function(e){return r===e.position}))?i.INVALID_MOVE:r}function p(e){return"S"===e[0].toUpperCase()}n.calculateNextPosition=f,n.calculateMove=d,n.executeMove=function(e,n,t){var r=d(e,n,t);if(r===i.INVALID_MOVE)throw new Error("invalid move");var a={};a[e]=r;var c=t.find(o.default.matches({position:r}));return c&&(a[c.position]=function(e,n){var t=o.default.first(o.default.difference(o.default.range(4).map((function(e){return s(n,e)})),e.map((function(e){return e.position}))));if(!t)throw new Error("cannot capture");return t}(t,c.seat)),a}},95:function(e,n,t){e.exports=t(153)}},[[95,1,2]]]);
//# sourceMappingURL=main.44cedd59.chunk.js.map