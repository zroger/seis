{"version":3,"sources":["Board/marbles.module.css","serviceWorker.js","api.ts","game/board.ts","Home/CreateRoom.tsx","Home/index.tsx","game/index.ts","Board/Controls.tsx","Board/DiceIcon.tsx","Board/DiceControls.tsx","Board/Piece.tsx","Board/GameBoard.tsx","token.ts","user.ts","Board/Header.tsx","components/ViewPortUnits.tsx","Board/index.tsx","components/Loading.tsx","PlayOnline/index.tsx","pages/OfflineGame.tsx","SvgBoard.tsx","App.tsx","index.js","Board/board.module.css","SvgBoard.module.css","Board/controls.module.css","Board/layout.module.css","Board/dice.module.css","Board/header.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","baseUrl","createRoom","numPlayers","a","fetch","method","body","JSON","stringify","unlisted","headers","resp","ok","Error","status","json","data","gameID","getRoom","roomID","joinRoom","playerName","user","console","log","room","seats","players","filter","p","clientId","length","id","warn","leaveRoom","open","name","seat","playerID","credentials","BoardLocationType","api","CreateRoom","onSuccess","children","buttonProps","create","useAsync","deferFn","useEffect","Button","disabled","isPending","onClick","event","preventDefault","run","useStyles","makeStyles","theme","main","display","flexFlow","alignItems","title","fontFamily","color","fontSize","padding","spacing","button","margin","minWidth","backgroundImage","colors","boxShadow","shadows","Home","classes","history","useHistory","handleRoomFound","push","Container","className","component","maxWidth","Typography","variant","align","map","i","key","encode","type","index","toString","toUpperCase","_","curry","HOME","Circuit","CIRCUIT","Start","START","calculateNextPosition","fromPos","activeSeat","position","current","parseInt","isStart","isCircuit","nextSeat","isHome","INVALID_MOVE","calculateMove","roll","pieces","nextPos","piece","find","includes","range","reduce","acc","cur","next","some","matches","isPassing","error","executeMove","updates","captured","pos","first","difference","findStartPosition","getCurrentPlayer","G","ctx","player","currentPlayer","undefined","getValidMoves","dieRoll","playerId","getPlayerById","board","from","to","move","ActionState","SeisGame","setup","phases","turn","activePlayers","all","Stage","NULL","moves","ChooseSeat","prev","ChangeName","start","endIf","play","rollDie","value","random","D6","movePiece","events","endTurn","has","order","playOrderPos","playOrder","sortBy","plugins","PluginPlayer","every","RandomIcon","GiPerspectiveDiceSixFacesRandom","Icons","default","1","GiDiceSixFacesOne","2","GiDiceSixFacesTwo","3","GiDiceSixFacesThree","4","GiDiceSixFacesFour","5","GiDiceSixFacesFive","6","GiDiceSixFacesSix","inverted","GiInvertedDice1","GiInvertedDice2","GiInvertedDice3","GiInvertedDice4","GiInvertedDice5","GiInvertedDice6","DiceIcon","size","props","Component","icon","iconRandom","style","DiceControls","onRoll","e","diceContainer","diceLeft","diceRight","Controls","isActive","gameMetadata","validMoves","action","phase","CHOOSE_SEAT","PENDING_START","MOVE","ROLL","PENDING_MOVE","gameover","GAME_OVER","NONE","selectAction","root","message","Piece","onSelect","onActivate","onDeactivate","noop","onMouseEnter","onMouseLeave","posClass","GameBoard","useState","activePiece","setActivePiece","activeMove","m","selectPiece","activatePiece","deactivatePiece","home0","home1","home2","home3","start0","start1","start2","start3","flatten","concat","highlight","clsx","cell","meta","handleCellClick","enabled","diceView","transform","token","base","len","Math","floor","join","token16","getUser","creds","localStorage","getItem","setItem","sha1","Header","useRouteMatch","handleQuit","gameId","params","game_id","exit","handleResize","vh","innerHeight","vw","innerWidth","document","documentElement","setProperty","min","max","ViewPortUnits","addEventListener","removeEventListener","Board","container","header","primary","secondary","loading","Loading","Backdrop","Paper","CircularProgress","OnlineClient","Client","game","Game","multiplayer","SocketIO","server","loadGame","joinGame","ErrorDialog","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","FormDialog","onClose","setName","handleSubmit","spectate","TextField","autoFocus","label","fullWidth","onChange","target","OnlineGame","state","promiseFn","setSpectate","isRejected","isFulfilled","debug","_spectate","Geo","S00","x","y","S01","S02","S03","S10","S11","S12","S13","S20","S21","S22","S23","S30","S31","S32","S33","C00","C01","C02","C03","C04","C05","C06","C07","C08","C09","C0A","C0B","C10","C11","C12","C13","C14","C15","C16","C17","C18","C19","C1A","C1B","C20","C21","C22","C23","C24","C25","C26","C27","C28","C29","C2A","C2B","C30","C31","C32","C33","C34","C35","C36","C37","C38","C39","C3A","C3B","H00","H01","H02","H03","H10","H11","H12","H13","H20","H21","H22","H23","H30","H31","H32","H33","GridLines","pointerEvents","x1","y1","x2","y2","gridMinor","gridMajor","Cell","r","coord","cx","cy","Token","prevPos","useRef","origin","trail","buildTrail","tokenRed","tokenBlue","tokenYellow","tokenGreen","animate","transition","duration","ease","use","xlinkHref","height","tokenRadius","width","SvgBoard","showGrid","viewBox","xmlns","xmlnsXlink","gradientTransform","offset","stopColor","fx","fy","stopOpacity","fill","rx","ry","paintedRed","dominant-baseline","text-anchor","paintedBlue","paintedYellow","paintedGreen","keys","dominantBaseline","textAnchor","App","exact","path","PlayOnline","OfflineGame","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.65d459c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"base\":\"marbles_base__KvHeE\",\"piece\":\"marbles_piece__3NAxU\",\"enabled\":\"marbles_enabled__dKJpt\",\"Red1_0\":\"marbles_Red1_0__K3jhJ marbles_base__KvHeE\",\"Red1_1\":\"marbles_Red1_1__10X69 marbles_Red1_0__K3jhJ marbles_base__KvHeE\",\"Red1_2\":\"marbles_Red1_2__1wOkO marbles_Red1_0__K3jhJ marbles_base__KvHeE\",\"Red1_3\":\"marbles_Red1_3__Rdiwk marbles_Red1_0__K3jhJ marbles_base__KvHeE\",\"Blue1_0\":\"marbles_Blue1_0__3iDtD marbles_base__KvHeE\",\"Blue1_1\":\"marbles_Blue1_1__SQx9M marbles_Blue1_0__3iDtD marbles_base__KvHeE\",\"Blue1_2\":\"marbles_Blue1_2__QCNGZ marbles_Blue1_0__3iDtD marbles_base__KvHeE\",\"Blue1_3\":\"marbles_Blue1_3__1m1PW marbles_Blue1_0__3iDtD marbles_base__KvHeE\",\"Green1_0\":\"marbles_Green1_0__6eau1 marbles_base__KvHeE\",\"Green1_1\":\"marbles_Green1_1__1MUHH marbles_Green1_0__6eau1 marbles_base__KvHeE\",\"Green1_2\":\"marbles_Green1_2__3_2Je marbles_Green1_0__6eau1 marbles_base__KvHeE\",\"Green1_3\":\"marbles_Green1_3__4rWUy marbles_Green1_0__6eau1 marbles_base__KvHeE\",\"Yellow1_0\":\"marbles_Yellow1_0__21rld marbles_base__KvHeE\",\"Yellow1_1\":\"marbles_Yellow1_1__13qra marbles_Yellow1_0__21rld marbles_base__KvHeE\",\"Yellow1_2\":\"marbles_Yellow1_2__iBFhy marbles_Yellow1_0__21rld marbles_base__KvHeE\",\"Yellow1_3\":\"marbles_Yellow1_3__236le marbles_Yellow1_0__21rld marbles_base__KvHeE\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { User } from './user';\n\n// export const baseUrl = 'http://10.0.1.27:8000';\nexport const baseUrl = (\n  window.location.hostname === '10.0.1.27' ?\n  'http://10.0.1.27:8000' :\n  'https://seis-game.herokuapp.com'\n)\n\nexport function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport async function createRoom(numPlayers: number): Promise<string> {\n  const resp = await fetch(baseUrl + '/games/seis/create', {\n    method: 'POST',\n    body: JSON.stringify({\n      numPlayers,\n      unlisted: true,\n    }),\n    headers: { 'Content-Type': 'application/json' },\n  });\n  if (!resp.ok) {\n    throw new Error('HTTP status ' + resp.status);\n  }\n  const data = await resp.json();\n  return data.gameID;\n}\n\nexport interface Room {\n  roomID: string,\n  players: {\n    id: string,\n    name?: string,\n    data?: {\n      clientId?: string,\n    },\n  }[],\n  setupData?: any,\n}\n\nexport async function getRoom(roomID: string): Promise<Room> {\n  const resp = await fetch(baseUrl + '/games/seis/' + roomID);\n  if (!resp.ok) {\n    throw new Error(`Room ${roomID} not found`)\n  }\n  const data = await resp.json();\n  return data;\n}\n\nexport async function joinRoom(roomID: string, playerName: string, user: User) {\n  console.log(`attempting to join room ${roomID}`)\n  let room = await getRoom(roomID);\n  const seats = room.players.filter(p => p.data?.clientId === user.clientId);\n  if (seats.length === 1) {\n    console.log(`previously joined room ${roomID} at seat ${seats[0].id}`)\n    return \"\" + seats[0].id;\n  }\n\n  // If multiple seats are taken by this user, leave the room and re-join.\n  if (seats.length > 1) {\n    console.warn(`previously joined room ${roomID} in ${seats.length} seats`)\n    await leaveRoom(roomID, user);\n  }\n\n  room = await getRoom(roomID);\n  const open = room.players.filter(p => !p.name);\n\n  console.log(`found ${open.length} open seats in room ${roomID}`)\n  for (let seat of open) {\n    console.log(`attempting to join at seat ${seat.id}`)\n    const resp = await fetch(`${baseUrl}/games/seis/${roomID}/join`, {\n      method: 'POST',\n      body: JSON.stringify({\n        playerID: seat.id,\n        playerName,\n        data: { clientId: user.clientId },\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'bgio-credentials': user.credentials,\n      },\n    });\n    if (resp.ok) {\n      console.log(`successfully joined at seat ${seat.id}`)\n      return \"\" + seat.id;\n    } else {\n      console.log(`unable to join at seat ${seat.id}`)\n    }\n  }\n  console.log(`unable to join any seat`)\n  throw new Error(\"Unable to join room\")\n}\n\nexport async function leaveRoom(roomID: string, user: User) {\n  const room = await getRoom(roomID);\n  const seats = room.players.filter(p => p.data?.clientId === user.clientId);\n\n  for (let seat of seats) {\n    console.log(`leaving seat ${seat.id} of room ${roomID}`)\n    await fetch(`${baseUrl}/games/seis/${roomID}/leave`, {\n      method: 'POST',\n      body: JSON.stringify({playerID: seat.id, credentials: user.credentials}),\n      headers: { 'Content-Type': 'application/json' },\n    });\n  }\n}\n","import _ from 'lodash';\nimport { INVALID_MOVE } from \"boardgame.io/core\";\n\nimport { Piece } from '../types';\n\nenum BoardLocationType {\n  CIRCUIT = \"C\",\n  HOME = \"H\",\n  START = \"S\",\n}\n\nconst NUM_SEATS = 4;\n\nfunction encode(type: BoardLocationType, seat: number, index: number): string {\n  return (type + seat.toString(16) + index.toString(16)).toUpperCase();\n}\n\nfunction decode(position: string): {type: string, seat: number, index: number} {\n  return {\n    type: position[0],\n    seat: parseInt(position[1], 16),\n    index: parseInt(position[2], 16),\n  }\n}\n\nconst Home = _.curry(encode)(BoardLocationType.HOME)\nconst Circuit = _.curry(encode)(BoardLocationType.CIRCUIT)\nconst Start = _.curry(encode)(BoardLocationType.START)\n\n\n/**\n * Calculate the next position (N+1) for a token with the given seat position.\n *\n * Returns INVALID_MOVE if the move would be invalid.\n */\nexport function calculateNextPosition(fromPos: string, activeSeat: number): string {\n  const current = decode(fromPos);\n\n  if (isStart(fromPos)) {\n    return Circuit(current.seat, 0);\n  }\n\n  if (isCircuit(fromPos)) {\n    if (current.index < 11) {\n      return Circuit(current.seat, current.index + 1);\n    }\n    const nextSeat = (current.seat + 1) % NUM_SEATS;\n    if (nextSeat === activeSeat) {\n      return Home(nextSeat, 0)\n    }\n    return Circuit(nextSeat, 0)\n  }\n\n  if (isHome(fromPos) && current.index < 3) {\n    return Home(current.seat, current.index + 1)\n  }\n\n  return INVALID_MOVE;\n}\n\n/**\n * Calculate the next position for a token moving `roll` positions.\n *\n * Returns INVALID_MOVE if the move would be invalid.\n */\nexport function calculateMove(fromPos: string, roll: number, pieces: Piece[]): string {\n  const piece = pieces.find(p => p.position === fromPos)\n  if (typeof piece === \"undefined\") throw new Error(\"No piece in that position\")\n\n  // only a 1 or a 6 can get you out of the start position.\n  if (isStart(fromPos) && ![1, 6].includes(roll)) {\n    return INVALID_MOVE;\n  }\n\n  let nextPos: string;\n  try {\n    nextPos = _.range(roll).reduce(\n      (acc: string, cur: any): string => {\n        const next = calculateNextPosition(acc, piece.seat);\n        if (next === INVALID_MOVE) throw INVALID_MOVE;\n        if (isPassing(pieces, piece.seat, next)) throw INVALID_MOVE;\n        return next;\n      }, fromPos\n    )\n    if (nextPos === fromPos) return fromPos;\n  } catch (error) {\n    return INVALID_MOVE;\n  }\n\n  if (isSafety(nextPos) && pieces.find(p => nextPos === p.position)) {\n    return INVALID_MOVE;\n  }\n  return nextPos;\n}\n\n/**\n * Perform the given move, returning an updated list of pieces.\n */\nexport function executeMove(fromPos: string, roll: number, pieces: Piece[]): Record<string, string> {\n  const nextPos = calculateMove(fromPos, roll, pieces);\n  if (nextPos === INVALID_MOVE) {\n    throw new Error(\"invalid move\")\n  }\n  const updates: Record<string, string> = {};\n  updates[fromPos] = nextPos;\n\n  const captured = pieces.find(_.matches({position: nextPos}));\n  if (captured) {\n    updates[captured.position] = findStartPosition(pieces, captured.seat);\n  }\n  return updates;\n}\n\n/**\n * Find an unoccupied START location to return the captured piece to.\n */\nfunction findStartPosition(pieces: Piece[], seat: number): string {\n  const pos = _.first(\n    _.difference(\n      _.range(4).map(i => Start(seat, i)),\n      pieces.map(p => p.position)\n    )\n  )\n  if (!pos) throw new Error(\"cannot capture\")\n  return pos;\n}\n\nfunction isSafety(position: string): boolean {\n  return position[0].toUpperCase() === \"C\" && position[2] === \"5\"\n}\n\nfunction isCircuit(position: string): boolean {\n  return position[0].toUpperCase() === \"C\"\n}\n\nfunction isHome(position: string): boolean {\n  return position[0].toUpperCase() === \"H\"\n}\n\nfunction isStart(position: string): boolean {\n  return position[0].toUpperCase() === \"S\"\n}\n\nfunction isPassing(pieces: Piece[], seat: number, nextPos: string): boolean {\n  return pieces.some(_.matches({position: nextPos, seat: seat}))\n}\n\n/**\n * Return an Array of all positions on the board.\n */\nexport function BoardPositions() {\n  return _.flatten(\n    _.range(NUM_SEATS).map(\n      seat => (\n        _.concat(\n          [],\n          _.range(4).map(i => Start(seat, i)),\n          _.range(12).map(i => Circuit(seat, i)),\n          _.range(4).map(i => Home(seat, i)),\n        )\n      )\n    )\n  );\n}\n","import React, {\n  MouseEvent,\n  FunctionComponent,\n  useEffect,\n} from 'react';\nimport {\n  DeferFn,\n  useAsync,\n} from 'react-async';\n\nimport * as api from '../api';\n\nimport Button, { ButtonProps } from '@material-ui/core/Button';\n\nconst createRoom: DeferFn<string> = async ([numPlayers]) => {\n  return await api.createRoom(numPlayers as number);\n}\n\ninterface Props extends ButtonProps {\n  numPlayers: number,\n  onSuccess?: (roomID: string) => void;\n}\n\nconst CreateRoom: FunctionComponent<Props> = ({\n  numPlayers,\n  onSuccess,\n  children,\n  ...buttonProps\n}) => {\n  const create = useAsync({deferFn: createRoom});\n\n  const handleClick = (event: MouseEvent) => {\n    event.preventDefault();\n    create.run(numPlayers);\n  };\n\n  useEffect(() => {\n    if (onSuccess && create.data) {\n      onSuccess(create.data);\n    }\n  }, [create.data, onSuccess]);\n\n  return (\n    <Button {...buttonProps} disabled={create.isPending} onClick={handleClick}>{children}</Button>\n  )\n};\n\nexport default CreateRoom;\n","import React, {\n  FunctionComponent,\n} from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport * as api from '../api';\nimport CreateRoom from './CreateRoom';\n\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport * as colors from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    alignItems: 'center',\n  },\n  title: {\n    fontFamily: '\"Rye\", cursive',\n    color: '#ffcc80',\n    fontSize: '3rem',\n    padding: theme.spacing(2, 0),\n  },\n  button: {\n    display: 'block',\n    margin: theme.spacing(2, 'auto'),\n    minWidth: '50%',\n    backgroundImage: `linear-gradient(300deg, ${colors.orange[\"100\"]} 0%, ${colors.orange[\"200\"]} 100%)`,\n    color: colors.purple[\"900\"],\n    fontFamily: '\"Rye\", cursive',\n    fontSize: '1.5rem',\n    boxShadow: theme.shadows[2],\n  },\n}));\n\n\nconst Home: FunctionComponent<{}> = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleRoomFound = (room: api.Room|string) => {\n    const roomID = (typeof room === \"string\") ? room : room.roomID;\n    history.push(`/games/${roomID}`);\n  }\n\n  return (\n    <div>\n      <Container className={classes.main} component=\"main\" maxWidth=\"xs\">\n        <Typography variant=\"h1\" className={classes.title}>\n          seis\n        </Typography>\n\n        <Typography variant=\"body2\" align=\"center\">\n          Play seis online with friends.<br />Start a game and share the link.\n        </Typography>\n        {[2, 3, 4].map(i => (\n          <CreateRoom\n            key={i}\n            className={classes.button}\n            onSuccess={handleRoomFound}\n            numPlayers={i}\n          >\n            {i} players\n          </CreateRoom>\n        ))}\n\n      </Container>\n    </div>\n  )\n};\n\nexport default Home;\n","import { INVALID_MOVE, Stage } from \"boardgame.io/core\";\nimport { Game, Ctx as BaseCtx } from \"boardgame.io\";\nimport { PluginPlayer } from 'boardgame.io/plugins';\nimport _ from 'lodash';\n\nimport { DiceValue } from \"../constants\";\nimport * as board from \"./board\";\nimport {\n  Piece,\n  Seat,\n} from '../types';\n\nexport { BoardPositions } from './board';\n\nexport interface IPlayer {\n  id: string;\n  seat: number;\n  name: string;\n  color: string;\n}\n\nexport interface IG {\n  pieces: Piece[];\n  players: IPlayer[];\n  dieRoll?: number;\n}\n\nexport interface Ctx extends BaseCtx {\n  player?: any;\n}\n\n\n/**\n * Roll the die. If passed a number 1-6, use that as the value,\n * otherwise, use a random die roll.\n */\nfunction rollDie(G: IG, ctx: Ctx, value: DiceValue | undefined): IG | string {\n  if (typeof G.dieRoll !== \"undefined\") {\n    return INVALID_MOVE;\n  }\n  return {\n    ...G,\n    dieRoll: value || ctx.random?.D6(),\n  };\n}\n\n/**\n * Selector to get the current player instance.\n */\nexport function getCurrentPlayer(G: IG, ctx: Ctx): IPlayer|undefined {\n  const player = G.players.find((p) => p.id === ctx.currentPlayer);\n  if (player === undefined) {\n    return;\n    // throw Error(\"undefined player\");\n  }\n  return player;\n}\n\n/**\n * Selector to get the current player instance.\n */\nexport function getPlayerById(G: IG, playerId: string): IPlayer {\n  const player = G.players.find((p) => p.id === playerId);\n  if (player === undefined) {\n    throw Error(\"undefined player\");\n  }\n  return player;\n}\n\n/**\n * Selector to get a player by their seat number.\n */\nexport function getPlayerBySeat(G: IG, seat: number): IPlayer {\n  const player = G.players.find(_.matches({ seat }));\n  if (player === undefined) {\n    throw Error(\"undefined player\");\n  }\n  return player;\n}\n\nexport interface IMove {\n  from: string,\n  to: string,\n}\n\n/**\n * Get a list of valid moves from the current game state.\n */\n// export function getValidMoves(G: IG, ctx: Ctx): Piece[] {\nexport function getValidMoves(G: IG, ctx: Ctx): IMove[] {\n  if (typeof G.dieRoll === \"undefined\") return [];\n\n  const currentPlayer = getPlayerById(G, ctx.currentPlayer);\n  return G.pieces\n    .map((piece): IMove => {\n      const nextPos = (piece.seat === currentPlayer.seat) ? (\n        board.calculateMove(piece.position, G.dieRoll as number, G.pieces)\n      ) : INVALID_MOVE;\n      return { from: piece.position, to: nextPos };\n    })\n    .filter((move: IMove) => move.to !== INVALID_MOVE);\n}\n\n/**\n * Move the piece at the given position.\n */\nfunction movePiece(G: IG, ctx: Ctx, position: string): IG | string {\n  if (G.dieRoll === undefined) {\n    return INVALID_MOVE;\n  }\n\n  if (position === \"\") {\n    if (!ctx.events?.endTurn) {\n      throw new Error(\"ctx.events.endTurn is undefined\");\n    }\n    ctx.events.endTurn();\n    return {\n      ...G,\n      dieRoll: undefined,\n    };\n  }\n\n  let updates: any;\n  try {\n    updates = board.executeMove(position, G.dieRoll as number, G.pieces);\n  } catch (error) {\n    return INVALID_MOVE;\n  }\n\n  if (!ctx.events || !ctx.events.endTurn) {\n    throw new Error(\"ctx.events is undefined\");\n  }\n\n  // The turn is over unless a 6 was rolled AND a move was made.\n  if (G.dieRoll < 6) {\n    if (!ctx.events?.endTurn) {\n      throw new Error(\"ctx.events.endTurn is undefined\");\n    }\n    ctx.events.endTurn();\n  }\n\n  return {\n    ...G,\n    dieRoll: undefined,\n    pieces: G.pieces.map(\n      p => ( _.has(updates, p.position) ? {...p, position: updates[p.position]} : p)\n    ),\n  };\n}\n\n/**\n * Choose the seat for a player.\n */\nfunction ChooseSeat(G: IG, ctx: Ctx, seat: Seat, name: string): string | undefined {\n  console.log(\"ChooseSeat\", {\n    playerID: ctx.playerID,\n    seat,\n    name,\n  });\n  if (G.players.some(p => p.seat === seat)) {\n    return INVALID_MOVE;\n  }\n\n  if (typeof ctx.playerID !== \"string\") {\n    return INVALID_MOVE;\n  }\n\n  // First remove the player and pieces if they were previously placed.\n  const prev = G.players.find(p => p.id === ctx.playerID);\n  if (prev) {\n    G.players = G.players.filter(p => p.id !== prev.id);\n    G.pieces = G.pieces.filter(p => p.seat !== prev.seat);\n  }\n\n  const colors = [\"red\", \"blue\", \"yellow\", \"green\"];\n  G.players.push({\n    seat,\n    name: name,\n    id: ctx.playerID,\n    color: colors[seat],\n  })\n  G.pieces.push(...([0, 1, 2, 3].map(i => ({id: i, seat, position: `S${seat}${i}`}))))\n}\n\n/**\n * Change the name for a player.\n */\nfunction ChangeName(G: IG, ctx: Ctx, name: string): string | undefined {\n  if (typeof ctx.playerID !== \"string\") {\n    return INVALID_MOVE;\n  }\n\n  const player = G.players.find(p => p.id === ctx.playerID);\n  if (!player) {\n    return INVALID_MOVE;\n  }\n\n  player.name = name;\n}\n\nconst SeisGame: Game<IG> = {\n  name: \"seis\",\n  // setup: (): IG => INITIAL_STATE,\n  setup: () : IG => ({players: [], pieces: []}),\n  phases: {\n    setup: {\n      turn: {\n        activePlayers: { all: Stage.NULL },\n      },\n      moves: {ChooseSeat, ChangeName},\n      start: true,\n      endIf: (G: IG, ctx: Ctx) => (G.players.length === ctx.numPlayers),\n      next: 'play',\n    },\n    play: {\n      moves: {\n        rollDie,\n        movePiece,\n      },\n      turn: {\n        order: {\n          first: (G: IG, ctx: Ctx) => 0,\n          next: (G: IG, ctx: Ctx) => (ctx.playOrderPos + 1) % ctx.numPlayers,\n          playOrder: (G: IG) => (_.sortBy(G.players, ['seat']).map(p => p.id)),\n        },\n      },\n    },\n  },\n  moves: {\n  },\n  turn: {},\n  plugins: [\n    PluginPlayer({setup: (playerID) => ({}), }),\n  ],\n  endIf: (G: IG, ctx: Ctx): undefined|IPlayer  => {\n    return G.players.find(player => {\n      return G.pieces.filter(\n        piece => piece.seat === player.seat\n      ).every(\n        piece => piece.position[0] === 'H'\n      )\n    });\n  },\n};\n\nexport default SeisGame;\n","import React, { FunctionComponent } from 'react';\nimport { Ctx } from 'boardgame.io';\n\nimport {\n  IG,\n  getCurrentPlayer,\n  getValidMoves,\n} from '../game';\n\nimport DiceControls from './DiceControls';\n\nimport Button from '@material-ui/core/Button';\n\nimport classes from './controls.module.css';\n\ninterface Props {\n  G: IG,\n  ctx: Ctx,\n  moves: any,\n  playerID?: string,\n  isActive: boolean,\n  gameMetadata: {id: number, name?: string}[]\n}\n\nenum ActionState {\n  NONE = 0,\n  CHOOSE_SEAT,\n  PENDING_START,\n  ROLL,\n  MOVE,\n  PENDING_MOVE,\n  GAME_OVER,\n}\n\nfunction selectAction(G: IG, ctx: Ctx, playerID: string|undefined, isActive: boolean): ActionState {\n  if (ctx.phase === \"setup\") {\n    if (isActive) {\n      const player = G.players.find(p => p.id === playerID);\n      if (!player) {\n        return ActionState.CHOOSE_SEAT;\n      }\n    }\n    return ActionState.PENDING_START;\n  }\n\n  if (ctx.phase === \"play\" && isActive) {\n    return !!G.dieRoll ? ActionState.MOVE : ActionState.ROLL;\n  } else if (ctx.phase === \"play\") {\n    return ActionState.PENDING_MOVE;\n  }\n\n  if (ctx.gameover) {\n    return ActionState.GAME_OVER;\n  }\n\n  return ActionState.NONE;\n}\n\n\nconst Controls: FunctionComponent<Props> = ({\n  G,\n  ctx,\n  moves,\n  playerID,\n  isActive,\n  gameMetadata\n}) => {\n  /* const classes = useStyles(); */\n\n\n  const currentPlayer = getCurrentPlayer(G, ctx);\n\n  const validMoves = getValidMoves(G, ctx);\n\n  const action = selectAction(G, ctx, playerID, isActive);\n\n  const skip = () => {\n    // TODO: there should probably be a specific game state move for this.\n    moves.movePiece(\"\");\n  };\n\n  return (\n    <div className={classes.root}>\n      {action === ActionState.CHOOSE_SEAT && (\n        <div className={classes.message}>\n          Choose your color by clicking on an open spot on the board.\n        </div>\n      )}\n      {action === ActionState.PENDING_START && (\n        <div className={classes.message}>\n          Waiting for {ctx.numPlayers - G.players.length}\n          {(ctx.numPlayers - G.players.length) === 1 ? ' player ' : ' players '}\n          to join...\n        </div>\n      )}\n\n      {action === ActionState.MOVE && (\n        validMoves.length > 0 ? (\n          <div className={classes.message}>Make a move...</div>\n        ) : (\n          <div className={classes.message}>\n            <p>No moves</p>\n            <div>\n              <Button variant=\"contained\" onClick={skip}>Pass</Button>\n            </div>\n          </div>\n        )\n      )}\n\n      {action === ActionState.ROLL && (\n        <DiceControls onRoll={moves.rollDie} seat={currentPlayer?.seat as number} />\n      )}\n\n      {action === ActionState.PENDING_MOVE && (\n        <div className={classes.message}>\n          Waiting for <strong>{currentPlayer?.name}</strong> to move...\n        </div>\n      )}\n\n      {action === ActionState.GAME_OVER && (\n        <div className={classes.message}>\n          <h1>Game Over</h1>\n          <p>{ctx.gameover.name} is the winner</p>\n        </div>\n      )}\n\n      {action === ActionState.NONE && (\n        <div>lolwut</div>\n      )}\n    </div>\n  );\n};\n\nexport default Controls;\n","import React, {FunctionComponent} from 'react';\nimport { IconType} from 'react-icons';\nimport {\n  GiDiceSixFacesOne,\n  GiDiceSixFacesTwo,\n  GiDiceSixFacesThree,\n  GiDiceSixFacesFour,\n  GiDiceSixFacesFive,\n  GiDiceSixFacesSix,\n  GiInvertedDice1,\n  GiInvertedDice2,\n  GiInvertedDice3,\n  GiInvertedDice4,\n  GiInvertedDice5,\n  GiInvertedDice6,\n  GiPerspectiveDiceSixFacesRandom,\n} from 'react-icons/gi';\nimport { DiceValue } from \"../constants\";\nimport classes from './dice.module.css';\n\nconst RandomIcon = GiPerspectiveDiceSixFacesRandom;\nconst Icons: Record<string, Record<DiceValue, IconType>> = {\n  default: {\n    1: GiDiceSixFacesOne,\n    2: GiDiceSixFacesTwo,\n    3: GiDiceSixFacesThree,\n    4: GiDiceSixFacesFour,\n    5: GiDiceSixFacesFive,\n    6: GiDiceSixFacesSix,\n  },\n  inverted: {\n    1: GiInvertedDice1,\n    2: GiInvertedDice2,\n    3: GiInvertedDice3,\n    4: GiInvertedDice4,\n    5: GiInvertedDice5,\n    6: GiInvertedDice6,\n  },\n}\n\ninterface Props extends React.HTMLAttributes<HTMLElement> {\n  seat: number,\n  size?: number,\n  value?: DiceValue,\n  variant?: keyof typeof Icons,\n}\n\nconst DiceIcon: FunctionComponent<Props> = ({\n  seat,\n  size = 10,\n  value,\n  variant = 'default',\n  ...props\n}) => {\n  const Component = value ? Icons[variant][value] : RandomIcon;\n  const className = value ? classes.icon : classes.iconRandom;\n  const style = {\"--icon-size\": size} as React.CSSProperties;\n  return (\n    <div className={className + ' ' + classes[`seat-${seat}`]} style={style} {...props}>\n      <Component />\n    </div>\n  );\n};\n\nexport default DiceIcon;\n","import React from 'react';\n\nimport DiceIcon from './DiceIcon';\nimport classes from './controls.module.css';\n\ninterface Props {\n  onRoll: (value: number|undefined) => void,\n  seat: number,\n}\n\nconst DiceControls = ({ onRoll, seat }: Props) => {\n\n  const onClick = (value?: number) => {\n    return ((e: React.MouseEvent) => {\n      e.preventDefault();\n      onRoll(value);\n    });\n  }\n\n  return (\n    <div className={classes.diceContainer}>\n      <div className={classes.diceLeft}>\n        <DiceIcon size={20} onClick={onClick()} seat={seat} />\n      </div>\n      <div className={classes.diceRight}>\n        {[1, 2, 3, 4, 5, 6].map((i) => (\n          <DiceIcon value={i} size={10} onClick={onClick(i)} seat={seat} />\n        ))}\n      </div>\n    </div>\n  );\n};\n        /* <DiceButton value=\"random\" onClick={onClick()}/> */\n          /* <DiceButton value={i} onClick={onClick(i)}/> */\n\nexport default DiceControls;\n","import _ from 'lodash';\nimport React, {FunctionComponent} from 'react';\n\nimport classes from './marbles.module.css';\n\ninterface Props {\n  position: string,\n  variant: string,\n  index: number,\n  onSelect?: (position: string) => void,\n  onActivate?: (position: string) => void,\n  onDeactivate?: (position: string) => void,\n  className?: string,\n}\n\nconst Piece: FunctionComponent<Props> = ({\n  position,\n  variant,\n  index,\n  onSelect,\n  onActivate,\n  onDeactivate,\n  className,\n}) => {\n  const onClick = () => { (onSelect || _.noop)(position); }\n  const onMouseEnter = () => { (onActivate || _.noop)(position); }\n  const onMouseLeave = () => { (onDeactivate || _.noop)(position); }\n  return (\n    <div\n      className={className + ' ' + classes[`${variant}_${index}`]}\n      onClick={onClick}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n    />\n  )\n}\n\nexport default Piece;\n","import _ from 'lodash';\nimport React, { FunctionComponent, useState } from 'react';\nimport clsx from 'clsx';\n\nimport {\n  Ctx,\n  IG,\n  getCurrentPlayer,\n  getValidMoves,\n  BoardPositions,\n} from '../game';\n\nimport DiceIcon from './DiceIcon';\nimport Piece from './Piece';\nimport classes from './board.module.css';\n\n\ninterface Props {\n  G: IG,\n  ctx: Ctx,\n  moves: any,\n  playerID?: string,\n  isActive: boolean,\n  gameMetadata: {id: number, name?: string}[]\n}\n\nconst posClass = (position: string) => {\n  return classes['pos-' + position];\n}\n\nconst seatClass = (seat?: number) => {\n  if (typeof seat === \"number\") {\n    return classes['seat-' + seat];\n  }\n  return \"\";\n}\n\nconst GameBoard: FunctionComponent<Props> = ({\n  G,\n  ctx,\n  moves,\n  playerID,\n  isActive,\n  gameMetadata\n}) => {\n  // The position of the currently hightlighed piece.\n  const [activePiece, setActivePiece] = useState<string|undefined>();\n\n  console.log(ctx.player);\n  const currentPlayer = getCurrentPlayer(G, ctx);\n\n  const validMoves = getValidMoves(G, ctx);\n  const activeMove = validMoves.find(m => activePiece && activePiece === m.from);\n\n  const selectPiece = (position: string) => {\n    if (validMoves.find(m => m.from === position)) {\n      moves.movePiece(position);\n      setActivePiece(undefined);\n    }\n  };\n\n  const activatePiece = (position: string) => {\n    setActivePiece(position);\n  };\n\n  const deactivatePiece = (position: string) => {\n    setActivePiece(undefined);\n  };\n\n  const handleCellClick = (position: string) => {\n    if (!isActive) {\n      return;\n    }\n    if (ctx.phase === \"setup\") {\n      const seat = parseInt(position[1], 10);\n      const meta = gameMetadata.find(p => \"\" + p.id === playerID);\n      moves.ChooseSeat(seat, meta?.name || `Player ${seat + 1}`);\n    }\n  };\n\n  return (\n    <div className={classes.board}>\n      <div className={classes[`nowPlaying${currentPlayer?.seat}`]} />\n      <div className={classes.home0} />\n      <div className={classes.home1} />\n      <div className={classes.home2} />\n      <div className={classes.home3} />\n      <div className={classes.start0} />\n      <div className={classes.start1} />\n      <div className={classes.start2} />\n      <div className={classes.start3} />\n\n      { G.players.map ( player => (\n        <div key={player.seat} className={classes[`name${player.seat}`]}>\n          {player.name}\n        </div>\n      ))}\n\n      { BoardPositions().map( pos => {\n        const highlight = activeMove?.to === pos;\n        return (\n          <div\n            key={pos}\n            className={clsx(classes.cell, posClass(pos), highlight && classes.highlight)}\n            onClick={(e)=> {e.preventDefault(); handleCellClick(pos);}}\n          >\n          </div>\n        );\n      })}\n\n      { G.pieces.map(piece => (\n        <Piece\n          key={piece.position}\n          position={piece.position}\n          variant={[\"Red1\", \"Blue1\", \"Yellow1\", \"Green1\"][piece.seat]}\n          index={piece.id}\n          onSelect={isActive ? selectPiece : undefined}\n          onActivate={isActive ? activatePiece : undefined}\n          onDeactivate={isActive ? deactivatePiece : undefined}\n          className={clsx(\n            classes.piece,\n            /* seatClass(piece.seat), */\n            posClass(piece.position),\n            (isActive && validMoves.some(_.matches({from: piece.position})) && classes.enabled),\n          )}\n        />\n      ))}\n\n      { G.dieRoll && (\n        <div\n          className={clsx(classes.diceView, seatClass(currentPlayer?.seat))}\n          style={{transform: `rotate(${((G.dieRoll + ctx.turn) % 18) * 10}deg)`}} >\n          <DiceIcon value={G.dieRoll} size={10} seat={currentPlayer?.seat as number} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GameBoard;\n","import _ from 'lodash';\n\nexport function token(base: number, len: number): string {\n  return _.range(len).map(() => Math.floor(Math.random() * base).toString(base)).join(\"\")\n}\n\nexport const token10 = _.curry(token)(10);\nexport const token16 = _.curry(token)(16);\n","import sha1 from 'sha1';\nimport { token16 } from './token';\n\n\nexport interface User {\n  credentials: string,\n  clientId: string,\n}\n\nexport function getUser() {\n  let creds = localStorage.getItem(\"creds\")\n  if (!creds) {\n    creds = token16(16);\n    localStorage.setItem(\"creds\", creds)\n  }\n\n  return {\n    credentials: creds,\n    clientId: sha1(creds),\n  }\n}\n","import React, { MouseEvent } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { IoIosExit } from 'react-icons/io';\n\nimport * as api from '../api';\nimport { getUser } from '../user';\nimport classes from './header.module.css';\n\n\nconst Header = (props: any) => {\n  const match = useRouteMatch<{game_id: string}>(\"/games/:game_id\");\n  const history = useHistory();\n  const handleQuit= async (event: MouseEvent) => {\n    event.preventDefault();\n    const user = getUser();\n    const gameId =match?.params?.game_id as string;\n    await api.leaveRoom(gameId, user);\n    history.push('/')\n  }\n\n  return (\n    <>\n      <h1 className={classes.title}>seis</h1>\n      <button className={classes.exit} onClick={handleQuit}>\n        <IoIosExit />\n      </button>\n    </>\n  );\n};\n\nexport default Header;\n","/**\n * Custom viewport unit support.\n * Adds custom properties to the root element in response to window resize.\n *\n * --vh = 1% of Viewport height (window.innerHeight)\n * --vw = 1% of Viewport width (window.innerWidth)\n * --vmin = Smaller of --vh or --vw\n * --vmax = Larger of --vh or --vw\n */\nimport React, {\n  FunctionComponent,\n  useEffect,\n} from 'react';\n\nconst handleResize = () => {\n  const vh = window.innerHeight / 100;\n  const vw = window.innerWidth / 100;\n  document.documentElement.style.setProperty('--vh', `${vh}px`);\n  document.documentElement.style.setProperty('--vw', `${vw}px`);\n  document.documentElement.style.setProperty('--vmin', `${Math.min(vh, vw)}px`);\n  document.documentElement.style.setProperty('--vmax', `${Math.max(vh, vw)}px`);\n}\n\nconst ViewPortUnits: FunctionComponent<{}> = ({ children }) => {\n  useEffect(() => {\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  return <>{ children }</>\n};\n\nexport default ViewPortUnits;\n","import React from 'react';\n\nimport classes from './layout.module.css';\nimport Controls from './Controls';\nimport GameBoard from './GameBoard';\nimport Header from './Header';\nimport ViewPortUnits from '../components/ViewPortUnits';\n\n\nconst Board = (props: any) => {\n  return (\n    <ViewPortUnits>\n      <div className={classes.container}>\n        <header className={classes.header}>\n          <Header />\n        </header>\n\n        <section className={classes.primary}>\n          <div className={classes.board}>\n            <GameBoard {...props} />\n          </div>\n        </section>\n\n        <section className={classes.secondary}>\n          <Controls {...props} />\n        </section>\n      </div>\n    </ViewPortUnits>\n  );\n};\n\nexport default Board;\n","import React, { FunctionComponent } from 'react';\n\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {},\n  loading: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst Loading: FunctionComponent = () => {\n  const classes = useStyles();\n  return (\n    <Backdrop open={true}>\n      <Paper className={classes.loading}>\n        <CircularProgress color=\"inherit\" />\n      </Paper>\n    </Backdrop>\n  )\n};\n\nexport default Loading;\n","import React, { useState } from 'react';\nimport {\n  DeferFn,\n  PromiseFn,\n  useAsync,\n} from 'react-async';\nimport { Client } from 'boardgame.io/react';\nimport { SocketIO } from 'boardgame.io/multiplayer';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport * as api from '../api';\nimport Game from '../game';\nimport Board from '../Board';\nimport Loading from '../components/Loading';\nimport { getUser } from '../user';\n\nconst OnlineClient = Client({\n  game: Game,\n  board: Board,\n  multiplayer: SocketIO({ server: api.baseUrl }),\n  loading: Loading,\n});\n\ninterface GameProps {\n  gameID: string;\n  playerID?: string;\n  credentials?: string;\n}\n\ninterface RoomState {\n  room: api.Room;\n  playerID?: string;\n  credentials?: string;\n}\n\nconst loadGame: PromiseFn<RoomState> = async ({gameID, user}) => {\n  const room = await api.getRoom(gameID);\n  const seats = room.players.filter(p => p.data?.clientId === user.clientId);\n  if (seats.length === 1) {\n    console.log(`previously joined room ${gameID} at seat ${seats[0].id}`)\n    return {room, playerID: \"\" + seats[0].id, credentials: user.credentials};\n  }\n\n  if (seats.length > 1) {\n    console.warn(`previously joined room ${gameID} in ${seats.length} seats`)\n    await api.leaveRoom(gameID, user);\n  }\n\n  return {room};\n}\n\nconst joinGame: DeferFn<RoomState> = async ([name], {gameID, user}) => {\n  const room = await api.getRoom(gameID);\n  const playerID = await api.joinRoom(gameID, name, user);\n  if (playerID) {\n    return {room, playerID, credentials: user.credentials}\n  }\n  return {room}\n}\n\nconst ErrorDialog = () => {\n  const history = useHistory();\n\n  return (\n    <Dialog open={true}>\n      <DialogTitle>Game not found</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          The game you're trying to access wasn't found.\n          This probably means the game finished, or all players left.\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => {history.push(\"/\")}} color=\"primary\">\n          Back\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n\nconst FormDialog = ({\n  open,\n  onClose,\n}: {\n  open: boolean,\n  onClose: (name: string, spectate: boolean) => void,\n}) => {\n  const [name, setName] = useState<string>(\n    window.localStorage.getItem(\"playerName\") || \"\"\n  );\n\n  const handleSubmit = (spectate: boolean) => {\n    window.localStorage.setItem(\"playerName\", name);\n    onClose(name, spectate);\n  };\n\n  return (\n    <Dialog open={open}>\n      <DialogTitle>Join the game</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Enter the name you want to use in the game, then click play.\n          You can also choose to Just Watch if you don't want to play.\n        </DialogContentText>\n        <TextField\n          autoFocus={true}\n          margin=\"dense\"\n          label=\"Your name\"\n          fullWidth={true}\n          value={name}\n          onChange={(e) => {setName(e.target.value)}}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => {handleSubmit(true)}} color=\"secondary\">\n          Just watch\n        </Button>\n        <Button onClick={() => {handleSubmit(false)}} color=\"primary\">\n          Play\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst OnlineGame = () => {\n  const match = useRouteMatch<{game_id: string}>(\"/games/:game_id\");\n  const gameId = match?.params?.game_id as string;\n  const user = getUser();\n  const state = useAsync({\n    promiseFn: loadGame,\n    deferFn: joinGame,\n    gameID: gameId,\n    user: user,\n  });\n  const [spectate, setSpectate] = useState<boolean>(false);\n\n  const handleSubmit = (name: string, _spectate: boolean) => {\n    setSpectate(_spectate);\n    if (!_spectate) {\n      state.run(name);\n    }\n  };\n\n  return (\n    <>\n      {state.isPending && <Loading />}\n      {state.isRejected && (\n        <ErrorDialog />\n      )}\n      {state.isFulfilled && spectate && (\n        <OnlineClient debug={false} {...state.data} />\n      )}\n      {state.isFulfilled && state.data.playerID && (\n        <OnlineClient\n          debug={false}\n          gameID={state.data.room.roomID}\n          playerID={state.data.playerID}\n          credentials={state.data.credentials}\n        />\n      )}\n      {state.isFulfilled && !spectate && !state.data.playerID && (\n        <FormDialog open={true} onClose={handleSubmit} />\n      )}\n    </>\n  )\n}\n\nexport default OnlineGame;\n","import { Client } from 'boardgame.io/react';\nimport Game from '../game';\nimport Board from '../Board';\n\nexport default Client({\n  game: Game,\n  board: Board,\n});\n","import _ from 'lodash';\nimport React, {useRef, useEffect} from 'react';\nimport { motion, SVGMotionProps } from 'framer-motion';\nimport classes from './SvgBoard.module.css';\n\nimport { calculateNextPosition } from './game/board';\n\n\ninterface Coord {\n  x: number,\n  y: number,\n}\n\nconst Geo: Record<string, Coord> = {\n  S00: {x: 180, y: -120},\n  S01: {x: 160, y: -140},\n  S02: {x: 140, y: -160},\n  S03: {x: 120, y: -180},\n\n  S10: {x: 120, y: 180},\n  S11: {x: 140, y: 160},\n  S12: {x: 160, y: 140},\n  S13: {x: 180, y: 120},\n\n  S20: {x: -180, y: 120},\n  S21: {x: -160, y: 140},\n  S22: {x: -140, y: 160},\n  S23: {x: -120, y: 180},\n\n  S30: {x: -120, y: -180},\n  S31: {x: -140, y: -160},\n  S32: {x: -160, y: -140},\n  S33: {x: -180, y: -120},\n\n  C00: {x: 30,  y: -180},\n  C01: {x: 30,  y: -150},\n  C02: {x: 30,  y: -120},\n  C03: {x: 30,  y: -90 },\n  C04: {x: 30,  y: -60 },\n  C05: {x: 30,  y: -30 },\n  C06: {x: 60,  y: -30 },\n  C07: {x: 90,  y: -30 },\n  C08: {x: 120, y: -30 },\n  C09: {x: 150, y: -30 },\n  C0A: {x: 180, y: -30 },\n  C0B: {x: 180, y: 0   },\n\n  C10: {x: 180, y: 30 },\n  C11: {x: 150, y: 30 },\n  C12: {x: 120, y: 30 },\n  C13: {x: 90,  y: 30 },\n  C14: {x: 60,  y: 30 },\n  C15: {x: 30,  y: 30 },\n  C16: {x: 30,  y: 60 },\n  C17: {x: 30,  y: 90 },\n  C18: {x: 30,  y: 120},\n  C19: {x: 30,  y: 150},\n  C1A: {x: 30,  y: 180},\n  C1B: {x: 0,   y: 180},\n\n  C20: {x: -30,  y: 180},\n  C21: {x: -30,  y: 150},\n  C22: {x: -30,  y: 120},\n  C23: {x: -30,  y: 90 },\n  C24: {x: -30,  y: 60 },\n  C25: {x: -30,  y: 30 },\n  C26: {x: -60,  y: 30 },\n  C27: {x: -90,  y: 30 },\n  C28: {x: -120, y: 30 },\n  C29: {x: -150, y: 30 },\n  C2A: {x: -180, y: 30 },\n  C2B: {x: -180, y: 0  },\n\n  C30: {x: -180, y: -30},\n  C31: {x: -150, y: -30},\n  C32: {x: -120, y: -30},\n  C33: {x: -90,  y: -30},\n  C34: {x: -60,  y: -30},\n  C35: {x: -30,  y: -30},\n  C36: {x: -30,  y: -60},\n  C37: {x: -30,  y: -90},\n  C38: {x: -30,  y: -120},\n  C39: {x: -30,  y: -150},\n  C3A: {x: -30,  y: -180},\n  C3B: {x: 0,    y: -180},\n\n  H00: {x: 0, y: -150},\n  H01: {x: 0, y: -120},\n  H02: {x: 0, y: -90},\n  H03: {x: 0, y: -60},\n\n  H10: {x: 150, y: 0},\n  H11: {x: 120, y: 0},\n  H12: {x: 90,  y: 0},\n  H13: {x: 60,  y: 0},\n\n  H20: {x: 0, y: 150},\n  H21: {x: 0, y: 120},\n  H22: {x: 0, y: 90 },\n  H23: {x: 0, y: 60 },\n\n  H30: {x: -150, y: 0},\n  H31: {x: -120, y: 0},\n  H32: {x: -90,  y: 0},\n  H33: {x: -60,  y: 0},\n};\n\ntype GeoPosition = keyof typeof Geo;\n\ninterface RoundedRectProps extends React.SVGAttributes<SVGElement> {\n  a: GeoPosition,\n  b: GeoPosition,\n  radius?: number,\n}\n\nconst RoundedRect = ({a, b, radius=15, ...props}: RoundedRectProps) => {\n  const r1 = Geo[a];\n  const r2 = Geo[b];\n  const center = {x: (r1.x + r2.x) / 2, y: (r1.y + r2.y) / 2};\n  const slope = (r2.x - r1.x) / (r2.y - r1.y);\n  const distance = Math.sqrt((r2.x - r1.x)**2 + (r2.y - r1.y)**2) + radius * 2\n  console.log(slope, distance)\n  const rotation = (slope === Infinity ? 90 : (slope === -Infinity ? -90 : slope * -45))\n  return (\n    <rect\n      x={center.x - radius}\n      y={center.y - (distance / 2)}\n      width={radius * 2}\n      height={distance}\n      rx={radius}\n      transform={`rotate(${rotation} ${center.x} ${center.y})`}\n      {...props}\n    />)\n}\n\n\nconst GridLines = () => {\n  return (\n    <g pointerEvents=\"none\">\n      {_.range(-201, 200, 6).map(y => (\n          <line key={y} x1=\"-200\" y1={y} x2=\"200\" y2={y} className={classes.gridMinor} />\n      ))}\n      {_.range(-201, 200, 6).map(x => (\n          <line key={x} x1={x} y1=\"-200\" x2={x} y2=\"200\" className={classes.gridMinor} />\n      ))}\n      {_.range(-180, 200, 30).map(y => (\n          <line key={y} x1=\"-200\" y1={y} x2=\"200\" y2={y} className={classes.gridMajor} />\n      ))}\n      {_.range(-180, 200, 30).map(x => (\n          <line key={x} x1={x} y1=\"-200\" x2={x} y2=\"200\" className={classes.gridMajor} />\n      ))}\n    </g>\n  )\n}\n\n\ninterface CellProps extends React.SVGAttributes<SVGElement> {\n  position: GeoPosition,\n  r?: number,\n}\n\nconst Cell = ({ position, r = 10, ...props }: CellProps) => {\n  const coord = Geo[position];\n  return (\n    <circle cx={coord.x} cy={coord.y} r={r} {...props} />\n  )\n}\n\n\nconst buildTrail = (from: GeoPosition, to: GeoPosition, seat: number, max: number = 80): GeoPosition[] => {\n  let i = 0;\n  const trail = [from];\n  while (trail[trail.length - 1] !== to && i++ < max) {\n    const next = calculateNextPosition(trail[trail.length - 1], seat);\n    if (next === \"INVALID_MOVE\") {\n      break;\n    }\n    trail.push(next);\n  }\n  if (trail[trail.length - 1] !== to) {\n    return [from, to]\n  }\n  return trail;\n}\n\ninterface TokenProps extends SVGMotionProps<SVGElement> {\n  pos: GeoPosition,\n  seat: number,\n}\n\nconst Token = ({pos, seat, ...props}: TokenProps) => {\n\n  // Use the previous value of the pos prop for animation.\n  const prevPos = useRef<string|undefined>();\n  useEffect(() => {\n    prevPos.current = pos;\n  }, [prevPos, pos]);\n\n  const origin = prevPos.current;\n  const trail = (origin && origin !== pos) ? buildTrail(origin, pos, seat) : [pos] ;\n\n  const cellRadius = 10;\n  const tokenRadius = 12;\n  const className = [\n    classes.tokenRed,\n    classes.tokenBlue,\n    classes.tokenYellow,\n    classes.tokenGreen,\n  ][seat];\n\n  const animate = trail.length > 1 ? {\n    x: trail.map(p => Geo[p].x - tokenRadius),\n    y: trail.map(p => Geo[p].y - (tokenRadius * 2 - cellRadius)),\n    transition: { duration: Math.max(1, trail.length / 2), ease: \"easeOut\" },\n  } : {\n    x: Geo[pos].x - tokenRadius,\n    y: Geo[pos].y - (tokenRadius * 2 - cellRadius)\n  };\n\n  return (\n    <motion.use\n      xlinkHref=\"#token\"\n      height={tokenRadius * 2}\n      width={tokenRadius * 2}\n      animate={animate}\n      style={{x: Geo[pos].x - tokenRadius, y: Geo[pos].y - (tokenRadius * 2 - cellRadius)}}\n      className={className}\n    />\n  )\n}\n\n\ninterface Props {\n  showGrid?: boolean;\n  children?: React.ReactNode;\n}\n\nconst SvgBoard = ({\n  showGrid = false,\n  children,\n}: Props) => {\n\n  const handleClick = (pos: GeoPosition) => {\n    return () => {\n      console.log(pos);\n    }\n  };\n\n  return (\n    <svg\n      viewBox=\"-200 -200 400 400\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      className={classes.root}\n    >\n      <defs>\n        <linearGradient id=\"buttonGradient\" gradientTransform=\"rotate(70)\">\n          <stop offset=\"0%\" stopColor=\"#ffcdd2\" />\n          <stop offset=\"100%\" stopColor=\"#d32f2f\" />\n        </linearGradient>\n\n        <radialGradient id=\"cellGradient\" fx=\"70%\" fy=\"70%\">\n          <stop offset=\"0%\" stopColor=\"black\" stopOpacity=\"0.25\" />\n          <stop offset=\"80%\" stopColor=\"black\" stopOpacity=\"0.5\" />\n        </radialGradient>\n\n        <radialGradient id=\"boardGradient\">\n          <stop offset=\"50%\" stopColor=\"transparent\" />\n          <stop offset=\"100%\" stopColor=\"black\" stopOpacity=\"0.25\" />\n        </radialGradient>\n\n        <radialGradient id=\"tokenGradient1\" fx=\"30%\" fy=\"30%\">\n          <stop offset=\"0%\" stopColor=\"#ffffff\" stopOpacity=\"0.5\" />\n          <stop offset=\"80%\" stopColor=\"#0a0a0a\" stopOpacity=\"0.5\" />\n          <stop offset=\"100%\" stopColor=\"#000000\" stopOpacity=\"0.5\" />\n        </radialGradient>\n        <radialGradient id=\"shadowGradient1\">\n          <stop offset=\"50%\" stopColor=\"#000000\" stopOpacity=\"1\" />\n          <stop offset=\"100%\" stopColor=\"#000000\" stopOpacity=\"0\" />\n        </radialGradient>\n\n        <symbol id=\"token\" viewBox=\"-10 -10 20 20\" x=\"0\" y=\"0\">\n          <ellipse\n            fill=\"url(#shadowGradient1)\"\n            cx=\"0\"\n            cy=\"8\"\n            rx=\"10\"\n            ry=\"2\"\n          />\n          <circle cx=\"0\" cy=\"0\" r=\"10\" />\n          <circle fill=\"url(#tokenGradient1)\" cx=\"0\" cy=\"0\" r=\"10\" />\n        </symbol>\n\n      </defs>\n\n      { showGrid && <GridLines /> }\n\n      <g pointerEvents=\"none\" className={classes.paintedRed}>\n        <rect x={-15} y={-60} width={30} height={120} rx={15}\n          transform=\"rotate(0) translate(0 -105)\" />\n        <rect x={-60} y={-15} width={120} height={30} rx={15}\n          transform=\"rotate(45) translate(0 -211)\" />\n        <text x={0} y={15}\n          dominant-baseline=\"middle\"\n          text-anchor=\"middle\"\n          transform=\"rotate(45) translate(0 -195)\">\n        </text>\n      </g>\n\n      <g className={classes.button} transform=\"translate(100 -80)\">\n        <rect x={-30} y={-15} width={60} height={30} rx={5} />\n        <text x={0} y={5} fill=\"black\"\n          dominant-baseline=\"middle\"\n          text-anchor=\"middle\">\n          Play!\n        </text>\n      </g>\n\n      <g pointerEvents=\"none\" className={classes.paintedBlue}>\n        <rect x={-60} y={-15} width={120} height={30} rx={15}\n          transform=\"rotate(135) translate(0 -211)\" />\n        <rect x={-15} y={-60} width={30} height={120} rx={15}\n          transform=\"rotate(90) translate(0 -105)\" />\n        <text x={0} y={15}\n          dominant-baseline=\"middle\"\n          text-anchor=\"middle\"\n          transform=\"rotate(-45) translate(0 170)\">\n          Blue\n        </text>\n      </g>\n\n      <g pointerEvents=\"none\" className={classes.paintedYellow}>\n        <rect x={-60} y={-15} width={120} height={30} rx={15}\n          transform=\"rotate(225) translate(0 -211)\" />\n        <rect x={-15} y={-60} width={30} height={120} rx={15}\n          transform=\"rotate(180) translate(0 -105)\" />\n        <text x={0} y={15}\n          dominant-baseline=\"middle\"\n          text-anchor=\"middle\"\n          transform=\"rotate(45) translate(0 170)\">\n          Yellow\n        </text>\n      </g>\n\n      <g pointerEvents=\"none\" className={classes.paintedGreen}>\n        <rect x={-60} y={-15} width={120} height={30} rx={15}\n          transform=\"rotate(315) translate(0 -211)\" />\n        <rect x={-15} y={-60} width={30} height={120} rx={15}\n          transform=\"rotate(270) translate(0 -105)\" />\n        <text x={0} y={15}\n          dominant-baseline=\"middle\"\n          text-anchor=\"middle\"\n          transform=\"rotate(-45) translate(0 -195)\">\n          Green\n        </text>\n      </g>\n\n      <g>\n        { _.keys(Geo).map(key => (\n          <Cell\n            key={key}\n            position={key}\n            r={10}\n            className={classes.cell}\n            onClick={handleClick(key)}\n          />\n        ))}\n      </g>\n\n      <Token pos=\"S00\" seat={0} />\n      <Token pos=\"S01\" seat={0} />\n      <Token pos=\"S02\" seat={0} />\n      <Token pos=\"S03\" seat={0} />\n\n      <Token pos=\"S10\" seat={1} />\n      <Token pos=\"S11\" seat={1} />\n      <Token pos=\"S12\" seat={1} />\n      <Token pos=\"S13\" seat={1} />\n\n      <Token pos=\"S20\" seat={2} />\n      <Token pos=\"S21\" seat={2} />\n      <Token pos=\"S22\" seat={2} />\n      <Token pos=\"S23\" seat={2} />\n\n      <Token pos=\"S30\" seat={3} />\n      <Token pos=\"S31\" seat={3} />\n      <Token pos=\"S32\" seat={3} />\n      <Token pos=\"S33\" seat={3} />\n\n      <svg width=\"20\" height=\"20\" x=\"-30\" y=\"-10\" viewBox=\"-10 -10 20 20\">\n        <rect x=\"-10\" y=\"-10\" width=\"20\" height=\"20\" rx=\"2\" fill=\"blue\" />\n        <circle cx=\"0\" cy=\"0\" r=\"2\" fill=\"white\" />\n        <circle cx=\"-6\" cy=\"-6\" r=\"2\" fill=\"white\" />\n        <circle cx=\"6\" cy=\"-6\" r=\"2\" fill=\"white\" />\n        <circle cx=\"-6\" cy=\"6\" r=\"2\" fill=\"white\" />\n        <circle cx=\"6\" cy=\"6\" r=\"2\" fill=\"white\" />\n        <circle cx=\"0\" cy=\"-6\" r=\"2\" fill=\"white\" />\n        <circle cx=\"0\" cy=\"6\" r=\"2\" fill=\"white\" />\n      </svg>\n\n      <svg width=\"60\" height=\"20\" x=\"10\" y=\"-10\" viewBox=\"-30 -10 60 20\">\n        <rect x=\"-30\" y=\"-10\" width=\"60\" height=\"20\" rx=\"2\" fill=\"blue\" />\n        <rect x=\"-30\" y=\"-10\" width=\"60\" height=\"20\" rx=\"2\" fill=\"url('#boardGradient')\" />\n        <text x={0} y={4}\n          dominantBaseline=\"middle\"\n          textAnchor=\"middle\"\n          fill=\"white\"\n          style={{fontFamily: \"Rye\"}}\n        >ROLL</text>\n      </svg>\n    </svg>\n  )\n};\n\nexport default SvgBoard;\n","import React, { FunctionComponent } from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom';\n\nimport Home from './Home';\nimport PlayOnline from './PlayOnline';\nimport OfflineGame from './pages/OfflineGame';\nimport ViewPortUnits from './components/ViewPortUnits';\nimport SvgBoard from './SvgBoard';\n\nimport './App.css';\n\nconst App: FunctionComponent = () => {\n  return (\n    <ViewPortUnits>\n      <Router>\n        <Switch>\n          <Route exact path=\"/games/:game_id\">\n            <PlayOnline />\n          </Route>\n\n          <Route exact path=\"/svg\">\n            <SvgBoard />\n          </Route>\n\n          <Route exact path=\"/offline\">\n            <OfflineGame />\n          </Route>\n\n          <Route>\n            <Home />\n          </Route>\n        </Switch>\n      </Router>\n    </ViewPortUnits>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"board_board__1jNgh\",\"name\":\"board_name__15Ow9\",\"name0\":\"board_name0__2l8SU board_name__15Ow9\",\"name1\":\"board_name1__3-upN board_name__15Ow9\",\"name2\":\"board_name2__3oCap board_name__15Ow9\",\"name3\":\"board_name3__1P7Qe board_name__15Ow9\",\"cell\":\"board_cell__1SMco\",\"highlight\":\"board_highlight__L8Yp-\",\"nowPlaying\":\"board_nowPlaying__35KnZ\",\"nowPlaying0\":\"board_nowPlaying0__JhRpy board_nowPlaying__35KnZ\",\"nowPlaying1\":\"board_nowPlaying1__1gDbt board_nowPlaying__35KnZ\",\"nowPlaying2\":\"board_nowPlaying2__3uN3w board_nowPlaying__35KnZ\",\"nowPlaying3\":\"board_nowPlaying3__31HfA board_nowPlaying__35KnZ\",\"pos-C00\":\"board_pos-C00__2Ji6l\",\"pos-C01\":\"board_pos-C01__M8F2x\",\"pos-C02\":\"board_pos-C02__RGWd8\",\"pos-C03\":\"board_pos-C03__cky2O\",\"pos-C04\":\"board_pos-C04__3j7bn\",\"pos-C05\":\"board_pos-C05__uy_ZD\",\"pos-C06\":\"board_pos-C06__3Nfpn\",\"pos-C07\":\"board_pos-C07__FOi_-\",\"pos-C08\":\"board_pos-C08__28teU\",\"pos-C09\":\"board_pos-C09__1gxOU\",\"pos-C0A\":\"board_pos-C0A__2JzMu\",\"pos-C0B\":\"board_pos-C0B__1IXwd\",\"pos-C10\":\"board_pos-C10__3zKul\",\"pos-C11\":\"board_pos-C11__G31ka\",\"pos-C12\":\"board_pos-C12__3mXAr\",\"pos-C13\":\"board_pos-C13__33SUA\",\"pos-C14\":\"board_pos-C14__2H3ZH\",\"pos-C15\":\"board_pos-C15__3lo_q\",\"pos-C16\":\"board_pos-C16__3etUi\",\"pos-C17\":\"board_pos-C17__10I5o\",\"pos-C18\":\"board_pos-C18__2pWou\",\"pos-C19\":\"board_pos-C19__3HNOE\",\"pos-C1A\":\"board_pos-C1A__ShBtS\",\"pos-C1B\":\"board_pos-C1B__31nIA\",\"pos-C20\":\"board_pos-C20__3tRWR\",\"pos-C21\":\"board_pos-C21__3fy7r\",\"pos-C22\":\"board_pos-C22__32_v7\",\"pos-C23\":\"board_pos-C23__2Ouz7\",\"pos-C24\":\"board_pos-C24__1Zdfs\",\"pos-C25\":\"board_pos-C25__3vF2I\",\"pos-C26\":\"board_pos-C26__3n6Yl\",\"pos-C27\":\"board_pos-C27__31ooH\",\"pos-C28\":\"board_pos-C28__1JtNh\",\"pos-C29\":\"board_pos-C29__1t1VX\",\"pos-C2A\":\"board_pos-C2A__2M453\",\"pos-C2B\":\"board_pos-C2B__2ru84\",\"pos-C30\":\"board_pos-C30__s762x\",\"pos-C31\":\"board_pos-C31__1uepC\",\"pos-C32\":\"board_pos-C32__3_M0J\",\"pos-C33\":\"board_pos-C33__1WxUT\",\"pos-C34\":\"board_pos-C34__xiCTI\",\"pos-C35\":\"board_pos-C35__2fTy4\",\"pos-C36\":\"board_pos-C36__3-9JX\",\"pos-C37\":\"board_pos-C37__5rCDf\",\"pos-C38\":\"board_pos-C38__3GYnz\",\"pos-C39\":\"board_pos-C39__EOitK\",\"pos-C3A\":\"board_pos-C3A__VhyfP\",\"pos-C3B\":\"board_pos-C3B__Mjsxi\",\"pos-H00\":\"board_pos-H00__1b6zA\",\"pos-H01\":\"board_pos-H01__3xxlc\",\"pos-H02\":\"board_pos-H02__AHYMc\",\"pos-H03\":\"board_pos-H03__3VAUf\",\"pos-H10\":\"board_pos-H10__1Do0H\",\"pos-H11\":\"board_pos-H11__3mwZs\",\"pos-H12\":\"board_pos-H12__2YNK9\",\"pos-H13\":\"board_pos-H13__1iDTE\",\"pos-H20\":\"board_pos-H20__3D4pg\",\"pos-H21\":\"board_pos-H21__3tRqU\",\"pos-H22\":\"board_pos-H22__1jtH1\",\"pos-H23\":\"board_pos-H23__2ZwLX\",\"pos-H30\":\"board_pos-H30__3TO6_\",\"pos-H31\":\"board_pos-H31__288s1\",\"pos-H32\":\"board_pos-H32__2x5bv\",\"pos-H33\":\"board_pos-H33__1MOpw\",\"pos-S00\":\"board_pos-S00__1Qd2V\",\"pos-S01\":\"board_pos-S01__CjonI\",\"pos-S02\":\"board_pos-S02__2jh3k\",\"pos-S03\":\"board_pos-S03__23D4j\",\"pos-S10\":\"board_pos-S10__258z2\",\"pos-S11\":\"board_pos-S11__177ao\",\"pos-S12\":\"board_pos-S12__2hsIs\",\"pos-S13\":\"board_pos-S13__2gNIV\",\"pos-S20\":\"board_pos-S20__3-Kgj\",\"pos-S21\":\"board_pos-S21__z9T6P\",\"pos-S22\":\"board_pos-S22__1-ZaZ\",\"pos-S23\":\"board_pos-S23__1I05k\",\"pos-S30\":\"board_pos-S30__2mwot\",\"pos-S31\":\"board_pos-S31__3TuiA\",\"pos-S32\":\"board_pos-S32__2ppp9\",\"pos-S33\":\"board_pos-S33__3OfhY\",\"home\":\"board_home__24RKK\",\"home0\":\"board_home0__x5Y8b board_home__24RKK\",\"home1\":\"board_home1__nJZQu board_home__24RKK\",\"home2\":\"board_home2__m6GxB board_home__24RKK\",\"home3\":\"board_home3__1GTL9 board_home__24RKK\",\"start0\":\"board_start0__sk5rX board_home__24RKK\",\"start1\":\"board_start1__3MAMV board_home__24RKK\",\"start2\":\"board_start2__1bEzz board_home__24RKK\",\"start3\":\"board_start3__3h9L2 board_home__24RKK\",\"diceView\":\"board_diceView__3g0GM\",\"seat-0\":\"board_seat-0__3mHa9\",\"seat-1\":\"board_seat-1__2-QKu\",\"seat-2\":\"board_seat-2__3GQbB\",\"seat-3\":\"board_seat-3__17BTT\",\"piece\":\"board_piece__10SvQ\",\"enabled\":\"board_enabled__2dFkR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SvgBoard_root__2vlYo\",\"painted\":\"SvgBoard_painted__1wL0c\",\"paintedRed\":\"SvgBoard_paintedRed__1FwMr SvgBoard_painted__1wL0c\",\"paintedBlue\":\"SvgBoard_paintedBlue__1Bcyf SvgBoard_painted__1wL0c\",\"paintedYellow\":\"SvgBoard_paintedYellow__3Z1k5 SvgBoard_painted__1wL0c\",\"paintedGreen\":\"SvgBoard_paintedGreen__2iWor SvgBoard_painted__1wL0c\",\"gridMajor\":\"SvgBoard_gridMajor__3gWTi\",\"gridMinor\":\"SvgBoard_gridMinor__34m8P\",\"cell\":\"SvgBoard_cell__12JSt\",\"tokenRed\":\"SvgBoard_tokenRed__35Di3\",\"tokenBlue\":\"SvgBoard_tokenBlue__3S9iU\",\"tokenYellow\":\"SvgBoard_tokenYellow__3S0qZ\",\"tokenGreen\":\"SvgBoard_tokenGreen__1mE2h\",\"button\":\"SvgBoard_button__3KjHV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"controls_root__34suz\",\"button\":\"controls_button__13r_Q\",\"diceContainer\":\"controls_diceContainer__2GfqP\",\"diceLeft\":\"controls_diceLeft__1jSIy\",\"diceRight\":\"controls_diceRight__2BYdM\",\"diceButton\":\"controls_diceButton__2k1xa\",\"diceButtonRandom\":\"controls_diceButtonRandom__2_uzF controls_diceButton__2k1xa\",\"message\":\"controls_message__1Ghgy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"layout_container__Ml8q0\",\"header\":\"layout_header__6jQJG\",\"primary\":\"layout_primary__1YNVb\",\"secondary\":\"layout_secondary__3lbCE\",\"board\":\"layout_board__UFbpr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"dice_icon__e1cr0\",\"seat-0\":\"dice_seat-0__3QYd-\",\"seat-1\":\"dice_seat-1__3VnhK\",\"seat-2\":\"dice_seat-2__3kJgG\",\"seat-3\":\"dice_seat-3__2ukkL\",\"iconRandom\":\"dice_iconRandom__3D_yR dice_icon__e1cr0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"header_title__aB6b6\",\"exit\":\"header_exit__1D1BM\"};"],"sourceRoot":""}