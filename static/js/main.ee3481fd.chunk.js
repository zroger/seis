(this.webpackJsonpseis=this.webpackJsonpseis||[]).push([[0],{49:function(e,n,i){e.exports=i(95)},54:function(e,n,i){},55:function(e,n,i){},91:function(e,n){},95:function(e,n,i){"use strict";i.r(n);var o=i(1),t=i.n(o),r=i(44),a=i.n(r);i(54),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=i(47),c=(i(55),i(15)),d=i(45),s=i.n(d),u=["red","blue","yellow","green"],p={boardSize:410,pieceSize:20,players:4,cells:[[10,220],[40,220],[70,220],[100,220],[130,220],[160,220],[160,250],[160,280],[160,310],[160,340],[160,370],[190,370],[220,370],[220,340],[220,310],[220,280],[220,250],[220,220],[250,220],[280,220],[310,220],[340,220],[370,220],[370,190],[370,160],[340,160],[310,160],[280,160],[250,160],[220,160],[220,130],[220,100],[220,70],[220,40],[220,10],[190,10],[160,10],[160,40],[160,70],[160,100],[160,130],[160,160],[130,160],[100,160],[70,160],[40,160],[10,160],[10,190],[40,190],[70,190],[100,190],[130,190],[190,340],[190,310],[190,280],[190,250],[340,190],[310,190],[280,190],[250,190],[190,40],[190,70],[190,100],[190,130],[10,310],[30,330],[50,350],[70,370],[310,370],[330,350],[350,330],[370,310],[310,10],[330,30],[350,50],[370,70],[10,70],[30,50],[50,30],[70,10]]},f=i(2),v=i(0),y={pieces:[{playerId:"0",id:0,position:64},{playerId:"0",id:1,position:65},{playerId:"0",id:2,position:66},{playerId:"0",id:3,position:67},{playerId:"1",id:0,position:68},{playerId:"1",id:1,position:69},{playerId:"1",id:2,position:70},{playerId:"1",id:3,position:71},{playerId:"2",id:0,position:72},{playerId:"2",id:1,position:73},{playerId:"2",id:2,position:74},{playerId:"2",id:3,position:75},{playerId:"3",id:0,position:76},{playerId:"3",id:1,position:77},{playerId:"3",id:2,position:78},{playerId:"3",id:3,position:79}],players:[{id:"0",position:0,name:"Player 1",color:"red"},{id:"1",position:1,name:"Player 2",color:"blue"},{id:"2",position:2,name:"Player 3",color:"yellow"},{id:"3",position:3,name:"Player 4",color:"green"}]};function m(e,n){var i=e.players.find((function(e){return e.id===n.currentPlayer}));if(void 0===i)throw Error("undefined player");return i}function h(e,n){var i=e.players.find((function(e){return e.id===n}));if(void 0===i)throw Error("undefined player");return i}function I(e,n,i){if(void 0===e.dieRoll)throw new Error("Cannot calculate position from current game state.");var o=m(e,n),t=12*o.position;if(i.position>=64)return 1===e.dieRoll||6===e.dieRoll?t-1+e.dieRoll:i.position;var r=(48+i.position-t)%48+e.dieRoll;return r>=48?4*o.position+r:(r+t)%48}var E={name:"seis",setup:function(){return y},moves:{rollDie:function(e,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"undefined"!==typeof e.dieRoll||o>6||o<0?v.f:Object(f.a)({},e,{dieRoll:o>0?o:null===(i=n.random)||void 0===i?void 0:i.D6()})},movePiece:function(e,n,i){if(void 0===e.dieRoll)return v.f;var o=function(e,n,i){var o=e.pieces.find((function(e){return e.playerId===n.currentPlayer&&e.id===i}));if(!o)throw new Error("Piece not found");return o}(e,n,i),t=I(e,n,o);if(!n.events||!n.events.endTurn)throw new Error("ctx.events is undefined");if(e.dieRoll<6||o.position===t){var r;if(!(null===(r=n.events)||void 0===r?void 0:r.endTurn))throw new Error("ctx.events.endTurn is undefined");n.events.endTurn()}return Object(f.a)({},e,{dieRoll:void 0,pieces:e.pieces.map((function(e){return e===o?Object(f.a)({},e,{position:t}):e}))})}},turn:{}},g=function(e){var n=e.color,i=e.x,o=e.y,r=e.h,a=e.highlight,l=e.children,c={top:i,left:o,height:r,width:r,borderWidth:.1*r};return t.a.createElement("div",{className:"Cell "+n+(a?" highlight":""),style:c},l)},b=function(e){var n=e.value,i=e.onRoll,o=n?String.fromCodePoint(n+9855):"roll";return t.a.createElement("div",{className:"Dice",onClick:function(e){!n&&i&&i()}},o)},w=function(e){e.G,e.ctx;var n=e.player,i=e.piece,o=e.enabled,r=e.onSelect,a=e.onActivate,l=e.onDeactivate,c=function(e){};return t.a.createElement("div",{className:"Piece "+n.color+(o?" enabled":""),onClick:function(){(r||c)(i)},onMouseEnter:function(){(a||c)(i)},onMouseLeave:function(){(l||c)(i)}})},P=function(e){var n=e.G,i=e.ctx,r=e.moves,a=Object(o.useState)(),l=Object(c.a)(a,2),d=l[0],v=l[1],y=s()(),E=y.innerHeight,P=y.innerWidth,R=Math.min(E,P)-40,N=R/410,k=m(n,i),x=n.dieRoll?function(e,n){return e.pieces.filter((function(e){return e.playerId===n.currentPlayer})).map((function(i){var o=I(e,n,i);return i.position===o?i:Object(f.a)({},i,{position:o})})).filter((function(n){return-1===e.pieces.indexOf(n)}))}(n,i):[],O=x.find((function(e){return d&&e.playerId===d.playerId&&e.id===d.id})),j=function(e){x.find((function(n){return n.playerId===e.playerId&&n.id===e.id}))?(r.movePiece(e.id),v(void 0)):console.log("this piece cannot be moved")},S=function(e){x.find((function(n){return n.playerId===e.playerId&&n.id===e.id}))||console.log("this piece cannot be activated"),v(e)},C=function(e){v(void 0)};return t.a.createElement("div",{className:"BoardWrapper"},t.a.createElement("div",{className:"PlayerName1"},"Player 1"),t.a.createElement("div",{className:"PlayerName2"},"Player 2"),t.a.createElement("div",{className:"PlayerName3"},"Player 3"),t.a.createElement("div",{className:"PlayerName4"},"Player 4"),t.a.createElement("div",{className:"Board",style:{width:R,height:R}},t.a.createElement("div",{className:"controls controls-".concat(k.position)},t.a.createElement(b,{value:n.dieRoll,onRoll:function(){r.rollDie()}}),n.dieRoll&&0===x.length&&t.a.createElement("button",{onClick:function(){r.movePiece(0)}},"Skip")),p.cells.map((function(e,o){var r=Object(c.a)(e,2),a=r[0],l=r[1],d=n.pieces.find((function(e){return e.position===o})),s=o>=12*p.players?u[Math.floor(o/p.players)%p.players]:"";return t.a.createElement(g,{key:o,x:a*N,y:l*N,h:20*N,color:s,highlight:O&&O.position===o},d&&t.a.createElement(w,{G:n,ctx:i,player:h(n,d.playerId),piece:d,onSelect:j,onActivate:S,onDeactivate:C,enabled:x.some((function(e){return e.playerId===d.playerId&&e.id===d.id}))}))}))))},R=Object(l.a)({game:E,board:P});var N=function(){return t.a.createElement("div",null,t.a.createElement(R,{debug:!0}))};a.a.render(t.a.createElement(t.a.StrictMode,null,t.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.ee3481fd.chunk.js.map